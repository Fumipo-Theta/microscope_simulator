/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/js/index_make_package.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/js/clipGeometryFromImageCenter.js":
/*!***********************************************!*\
  !*** ./src/js/clipGeometryFromImageCenter.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return clipGeometoryFromImageCenter; });\nfunction clipGeometoryFromImageCenter(state) {\n\n    return [\n        state.rotate_center.to_right - state.imageRadius,\n        state.rotate_center.to_bottom - state.imageRadius,\n        state.imageRadius * 2,\n        state.imageRadius * 2\n    ]\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvY2xpcEdlb21ldHJ5RnJvbUltYWdlQ2VudGVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2NsaXBHZW9tZXRyeUZyb21JbWFnZUNlbnRlci5qcz9mYzk1Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsaXBHZW9tZXRvcnlGcm9tSW1hZ2VDZW50ZXIoc3RhdGUpIHtcblxuICAgIHJldHVybiBbXG4gICAgICAgIHN0YXRlLnJvdGF0ZV9jZW50ZXIudG9fcmlnaHQgLSBzdGF0ZS5pbWFnZVJhZGl1cyxcbiAgICAgICAgc3RhdGUucm90YXRlX2NlbnRlci50b19ib3R0b20gLSBzdGF0ZS5pbWFnZVJhZGl1cyxcbiAgICAgICAgc3RhdGUuaW1hZ2VSYWRpdXMgKiAyLFxuICAgICAgICBzdGF0ZS5pbWFnZVJhZGl1cyAqIDJcbiAgICBdXG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/clipGeometryFromImageCenter.js\n");

/***/ }),

/***/ "./src/js/config/config.js":
/*!*********************************!*\
  !*** ./src/js/config/config.js ***!
  \*********************************/
/*! exports provided: staticSettings, VIEW_PADDING, cacheStorage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"staticSettings\", function() { return staticSettings; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VIEW_PADDING\", function() { return VIEW_PADDING; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cacheStorage\", function() { return cacheStorage; });\n/* harmony import */ var _local_storage_NativeLocalStorage_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../local_storage/NativeLocalStorage.js */ \"./src/js/local_storage/NativeLocalStorage.js\");\n/* harmony import */ var _local_storage_DummyLocalStorage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../local_storage/DummyLocalStorage.js */ \"./src/js/local_storage/DummyLocalStorage.js\");\n/**\n * TODO split these config as different objects\n *\n * - Package list endpoint\n * - Package CDN endpoint\n * - Cache DB version name\n * - Cache DB table name\n */\n\n\n\nclass Config {\n    constructor() {\n        this.endpoint = compileEnv == \"production\"\n            ? \"https://d3uqzv7l1ih05d.cloudfront.net/\"\n            : \"../../image_package_root/\"\n\n        this.indexedDBName = \"db_v3\"\n        this.storageName = \"files\"\n    }\n\n    getSampleListURL() {\n        return this.endpoint + \"rock_list.json\"\n    }\n\n    getSampleCategoryURL() {\n        return this.endpoint + \"category.json\"\n    }\n\n    getImageDataPath(packageName) {\n        return this.endpoint + \"packages/\" + packageName + \"/\"\n    }\n\n    getDBName() {\n        return this.indexedDBName;\n    }\n\n    getStorageName() {\n        return this.storageName\n    }\n}\n\n\nconst compileEnv = \"development\"\n\nconsole.info(\"config.js: compileEnv: \", compileEnv)\n\nconst staticSettings = new Config()\n\nconst VIEW_PADDING = 0 // px\n\nconst cacheStorage = window.localStorage\n    ? new _local_storage_NativeLocalStorage_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]()\n    : new _local_storage_DummyLocalStorage_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]()//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvY29uZmlnL2NvbmZpZy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9jb25maWcvY29uZmlnLmpzPzAwMmQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUT0RPIHNwbGl0IHRoZXNlIGNvbmZpZyBhcyBkaWZmZXJlbnQgb2JqZWN0c1xuICpcbiAqIC0gUGFja2FnZSBsaXN0IGVuZHBvaW50XG4gKiAtIFBhY2thZ2UgQ0ROIGVuZHBvaW50XG4gKiAtIENhY2hlIERCIHZlcnNpb24gbmFtZVxuICogLSBDYWNoZSBEQiB0YWJsZSBuYW1lXG4gKi9cbmltcG9ydCBOYXRpdmVMb2NhbFN0b3JhZ2UgZnJvbSBcIi4uL2xvY2FsX3N0b3JhZ2UvTmF0aXZlTG9jYWxTdG9yYWdlLmpzXCI7XG5pbXBvcnQgRHVtbXlMb2NhbFN0b3JhZ2UgZnJvbSBcIi4uL2xvY2FsX3N0b3JhZ2UvRHVtbXlMb2NhbFN0b3JhZ2UuanNcIjtcblxuY2xhc3MgQ29uZmlnIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5lbmRwb2ludCA9IGNvbXBpbGVFbnYgPT0gXCJwcm9kdWN0aW9uXCJcbiAgICAgICAgICAgID8gXCJodHRwczovL2QzdXF6djdsMWloMDVkLmNsb3VkZnJvbnQubmV0L1wiXG4gICAgICAgICAgICA6IFwiLi4vLi4vaW1hZ2VfcGFja2FnZV9yb290L1wiXG5cbiAgICAgICAgdGhpcy5pbmRleGVkREJOYW1lID0gXCJkYl92M1wiXG4gICAgICAgIHRoaXMuc3RvcmFnZU5hbWUgPSBcImZpbGVzXCJcbiAgICB9XG5cbiAgICBnZXRTYW1wbGVMaXN0VVJMKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmRwb2ludCArIFwicm9ja19saXN0Lmpzb25cIlxuICAgIH1cblxuICAgIGdldFNhbXBsZUNhdGVnb3J5VVJMKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmRwb2ludCArIFwiY2F0ZWdvcnkuanNvblwiXG4gICAgfVxuXG4gICAgZ2V0SW1hZ2VEYXRhUGF0aChwYWNrYWdlTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmRwb2ludCArIFwicGFja2FnZXMvXCIgKyBwYWNrYWdlTmFtZSArIFwiL1wiXG4gICAgfVxuXG4gICAgZ2V0REJOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbmRleGVkREJOYW1lO1xuICAgIH1cblxuICAgIGdldFN0b3JhZ2VOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdG9yYWdlTmFtZVxuICAgIH1cbn1cblxuXG5jb25zdCBjb21waWxlRW52ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlZcblxuY29uc29sZS5pbmZvKFwiY29uZmlnLmpzOiBjb21waWxlRW52OiBcIiwgY29tcGlsZUVudilcblxuZXhwb3J0IGNvbnN0IHN0YXRpY1NldHRpbmdzID0gbmV3IENvbmZpZygpXG5cbmV4cG9ydCBjb25zdCBWSUVXX1BBRERJTkcgPSAwIC8vIHB4XG5cbmV4cG9ydCBjb25zdCBjYWNoZVN0b3JhZ2UgPSB3aW5kb3cubG9jYWxTdG9yYWdlXG4gICAgPyBuZXcgTmF0aXZlTG9jYWxTdG9yYWdlKClcbiAgICA6IG5ldyBEdW1teUxvY2FsU3RvcmFnZSgpIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/config/config.js\n");

/***/ }),

/***/ "./src/js/coordinate_updators.js":
/*!***************************************!*\
  !*** ./src/js/coordinate_updators.js ***!
  \***************************************/
/*! exports provided: canvasCoordinate, updateCoordinate, updateRotate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"canvasCoordinate\", function() { return canvasCoordinate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateCoordinate\", function() { return updateCoordinate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateRotate\", function() { return updateRotate; });\n/* harmony import */ var _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./viewer_canvas.js */ \"./src/js/viewer_canvas.js\");\n/* harmony import */ var _getCoordinateOnCanvas_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getCoordinateOnCanvas.js */ \"./src/js/getCoordinateOnCanvas.js\");\n/* harmony import */ var _radiunBetween_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./radiunBetween.js */ \"./src/js/radiunBetween.js\");\n\n\n\n\n\nconst canvasCoordinate = Object(_getCoordinateOnCanvas_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_viewer_canvas_js__WEBPACK_IMPORTED_MODULE_0__[\"viewer\"])\n\n/**\n * Update start and end position\n * @param {*} state\n * @param {*} e\n */\nfunction updateCoordinate(state, e) {\n    state.drag_start = state.drag_end || undefined\n    state.drag_end = canvasCoordinate(e)\n\n    state.pinch_start = state.pinch_end || undefined\n    state.pinch_end = canvasCoordinate(e, 1)\n    return state\n}\n\n/**\n * Calculate small difference of rotation.\n * Update total rotation.\n *\n * @param {*} state\n * @param {*} e\n */\nfunction updateRotate(state, e) {\n    if (!state.canRotate) return;\n    if (state.drag_start === undefined) return\n    // delta rotate radius\n    const rotate_end = Object(_radiunBetween_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n        state.canvasWidth * 0.5,\n        state.canvasHeight * 0.5\n    )(...state.drag_end, ...state.drag_start)\n\n    state.rotate += rotate_end / Math.PI * 180\n    if (state.rotate >= 360) {\n        state.rotate -= 360\n    } else if (state.rotate < 0) {\n        state.rotate += 360\n    }\n    return state\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvY29vcmRpbmF0ZV91cGRhdG9ycy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9jb29yZGluYXRlX3VwZGF0b3JzLmpzPzgzMjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdmlld2VyIH0gZnJvbSBcIi4vdmlld2VyX2NhbnZhcy5qc1wiXG5pbXBvcnQgZ2V0Q29vcmRpbmF0ZU9uQ2FudmFzIGZyb20gXCIuL2dldENvb3JkaW5hdGVPbkNhbnZhcy5qc1wiXG5pbXBvcnQgcmFkaXVuQmV0d2VlbiBmcm9tIFwiLi9yYWRpdW5CZXR3ZWVuLmpzXCJcblxuXG5leHBvcnQgY29uc3QgY2FudmFzQ29vcmRpbmF0ZSA9IGdldENvb3JkaW5hdGVPbkNhbnZhcyh2aWV3ZXIpXG5cbi8qKlxuICogVXBkYXRlIHN0YXJ0IGFuZCBlbmQgcG9zaXRpb25cbiAqIEBwYXJhbSB7Kn0gc3RhdGVcbiAqIEBwYXJhbSB7Kn0gZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQ29vcmRpbmF0ZShzdGF0ZSwgZSkge1xuICAgIHN0YXRlLmRyYWdfc3RhcnQgPSBzdGF0ZS5kcmFnX2VuZCB8fCB1bmRlZmluZWRcbiAgICBzdGF0ZS5kcmFnX2VuZCA9IGNhbnZhc0Nvb3JkaW5hdGUoZSlcblxuICAgIHN0YXRlLnBpbmNoX3N0YXJ0ID0gc3RhdGUucGluY2hfZW5kIHx8IHVuZGVmaW5lZFxuICAgIHN0YXRlLnBpbmNoX2VuZCA9IGNhbnZhc0Nvb3JkaW5hdGUoZSwgMSlcbiAgICByZXR1cm4gc3RhdGVcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgc21hbGwgZGlmZmVyZW5jZSBvZiByb3RhdGlvbi5cbiAqIFVwZGF0ZSB0b3RhbCByb3RhdGlvbi5cbiAqXG4gKiBAcGFyYW0geyp9IHN0YXRlXG4gKiBAcGFyYW0geyp9IGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVJvdGF0ZShzdGF0ZSwgZSkge1xuICAgIGlmICghc3RhdGUuY2FuUm90YXRlKSByZXR1cm47XG4gICAgaWYgKHN0YXRlLmRyYWdfc3RhcnQgPT09IHVuZGVmaW5lZCkgcmV0dXJuXG4gICAgLy8gZGVsdGEgcm90YXRlIHJhZGl1c1xuICAgIGNvbnN0IHJvdGF0ZV9lbmQgPSByYWRpdW5CZXR3ZWVuKFxuICAgICAgICBzdGF0ZS5jYW52YXNXaWR0aCAqIDAuNSxcbiAgICAgICAgc3RhdGUuY2FudmFzSGVpZ2h0ICogMC41XG4gICAgKSguLi5zdGF0ZS5kcmFnX2VuZCwgLi4uc3RhdGUuZHJhZ19zdGFydClcblxuICAgIHN0YXRlLnJvdGF0ZSArPSByb3RhdGVfZW5kIC8gTWF0aC5QSSAqIDE4MFxuICAgIGlmIChzdGF0ZS5yb3RhdGUgPj0gMzYwKSB7XG4gICAgICAgIHN0YXRlLnJvdGF0ZSAtPSAzNjBcbiAgICB9IGVsc2UgaWYgKHN0YXRlLnJvdGF0ZSA8IDApIHtcbiAgICAgICAgc3RhdGUucm90YXRlICs9IDM2MFxuICAgIH1cbiAgICByZXR1cm4gc3RhdGVcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/coordinate_updators.js\n");

/***/ }),

/***/ "./src/js/draw_state_updators.js":
/*!***************************************!*\
  !*** ./src/js/draw_state_updators.js ***!
  \***************************************/
/*! exports provided: clearView, blobToCanvas, drawHairLine, drawScale */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clearView\", function() { return clearView; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"blobToCanvas\", function() { return blobToCanvas; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"drawHairLine\", function() { return drawHairLine; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"drawScale\", function() { return drawScale; });\n/* harmony import */ var _clipGeometryFromImageCenter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./clipGeometryFromImageCenter.js */ \"./src/js/clipGeometryFromImageCenter.js\");\n/* harmony import */ var _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./viewer_canvas.js */ \"./src/js/viewer_canvas.js\");\n/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./config/config.js */ \"./src/js/config/config.js\");\n/* harmony import */ var _rotation_degree_handlers_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./rotation_degree_handlers.js */ \"./src/js/rotation_degree_handlers.js\");\n\n\n\n\n\nfunction clearView(state) {\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_1__[\"viewer_ctx\"].clearRect(-state.canvasWidth * 0.5, -state.canvasHeight * 0.5, state.canvasWidth, state.canvasHeight)\n    return state\n}\n\nfunction blobToCanvas(state) {\n\n    const image_srcs = state.isCrossNicol\n        ? state.cross_images\n        : state.open_images\n\n    // view window circle\n\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_1__[\"viewer_ctx\"].save()\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_1__[\"viewer_ctx\"].beginPath()\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_1__[\"viewer_ctx\"].arc(0, 0, state.canvasWidth / 2 - _config_config_js__WEBPACK_IMPORTED_MODULE_2__[\"VIEW_PADDING\"], 0, Math.PI * 2, false)\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_1__[\"viewer_ctx\"].clip()\n\n    // Draw a image\n    const alpha = state.getAlpha(state.rotate)\n\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_1__[\"viewer_ctx\"].rotate(\n        Object(_rotation_degree_handlers_js__WEBPACK_IMPORTED_MODULE_3__[\"rotateSign\"])(state.isClockwise) * (state.rotate + state.getImageNumber(state.rotate) * state.rotate_degree_step) / 180 * Math.PI\n    )\n\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_1__[\"viewer_ctx\"].globalAlpha = 1\n    const image1 = image_srcs[state.getImageNumber(state.rotate)]\n\n    try {\n        _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_1__[\"viewer_ctx\"].drawImage(\n            image1,\n            ...Object(_clipGeometryFromImageCenter_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(state),\n            -state.canvasWidth / 2,\n            -state.canvasHeight / 2,\n            state.canvasWidth,\n            state.canvasHeight\n        );\n    } catch (e) {\n\n    }\n\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_1__[\"viewer_ctx\"].restore()\n\n    // Draw next image\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_1__[\"viewer_ctx\"].save()\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_1__[\"viewer_ctx\"].beginPath()\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_1__[\"viewer_ctx\"].arc(0, 0, state.canvasWidth / 2 - _config_config_js__WEBPACK_IMPORTED_MODULE_2__[\"VIEW_PADDING\"], 0, Math.PI * 2, false)\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_1__[\"viewer_ctx\"].clip()\n\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_1__[\"viewer_ctx\"].rotate(\n        Object(_rotation_degree_handlers_js__WEBPACK_IMPORTED_MODULE_3__[\"rotateSign\"])(state.isClockwise) * (state.rotate + state.getImageNumber(state.rotate + state.rotate_degree_step) * state.rotate_degree_step) / 180 * Math.PI\n    )\n\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_1__[\"viewer_ctx\"].globalAlpha = 1 - alpha\n    const image2 = image_srcs[state.getImageNumber(state.rotate + state.rotate_degree_step)]\n    try {\n        _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_1__[\"viewer_ctx\"].drawImage(\n            image2,\n            ...Object(_clipGeometryFromImageCenter_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(state),\n            -state.canvasWidth / 2,\n            -state.canvasHeight / 2,\n            state.canvasWidth,\n            state.canvasHeight)\n    } catch (e) {\n\n    }\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_1__[\"viewer_ctx\"].restore()\n    return state\n}\n\nfunction drawHairLine(state) {\n    if (!state.drawHairLine) return\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_1__[\"viewer_ctx\"].strokeStyle = state.isCrossNicol\n        ? \"white\"\n        : \"black\";\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_1__[\"viewer_ctx\"].globalAlpha = 1\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_1__[\"viewer_ctx\"].beginPath()\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_1__[\"viewer_ctx\"].moveTo(0, -state.canvasHeight * 0.5 + _config_config_js__WEBPACK_IMPORTED_MODULE_2__[\"VIEW_PADDING\"])\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_1__[\"viewer_ctx\"].lineTo(0, state.canvasHeight * 0.5 - _config_config_js__WEBPACK_IMPORTED_MODULE_2__[\"VIEW_PADDING\"])\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_1__[\"viewer_ctx\"].moveTo(-state.canvasWidth * 0.5 + _config_config_js__WEBPACK_IMPORTED_MODULE_2__[\"VIEW_PADDING\"], 0)\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_1__[\"viewer_ctx\"].lineTo(state.canvasWidth * 0.5 - _config_config_js__WEBPACK_IMPORTED_MODULE_2__[\"VIEW_PADDING\"], 0)\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_1__[\"viewer_ctx\"].closePath()\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_1__[\"viewer_ctx\"].stroke()\n    return state\n}\n\nconst scaleLength = (canvasWidth, imageWidth, scaleWidth) => canvasWidth * scaleWidth / imageWidth\n\nfunction drawScale(state) {\n    if (!state[\"scaleWidth\"]) return;\n    let scalePixel = scaleLength(state.canvasWidth, state.imageRadius * 2, state.scaleWidth)\n    const canvasWidth = state.canvasWidth;\n    const scaleBar = document.querySelector(\"#scalebar\")\n\n\n    let scaleNumber = state.scaleText.match(/(\\d+\\.?\\d*)/)[0] * 1\n    const scaleUnit = state.scaleText.match(/\\D*$/)[0]\n\n    while (scalePixel >= canvasWidth) {\n        scalePixel *= 0.5\n        scaleNumber *= 0.5\n    }\n    scaleBar.style.width = scalePixel + \"px\";\n    scaleBar.querySelector(\"div:first-child\").innerHTML = `${scaleNumber} ${scaleUnit}`;\n    return state\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvZHJhd19zdGF0ZV91cGRhdG9ycy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9kcmF3X3N0YXRlX3VwZGF0b3JzLmpzP2NiYmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNsaXBHZW9tZXRvcnlGcm9tSW1hZ2VDZW50ZXIgZnJvbSBcIi4vY2xpcEdlb21ldHJ5RnJvbUltYWdlQ2VudGVyLmpzXCJcbmltcG9ydCB7IHZpZXdlcl9jdHggfSBmcm9tIFwiLi92aWV3ZXJfY2FudmFzLmpzXCJcbmltcG9ydCB7IFZJRVdfUEFERElORyB9IGZyb20gXCIuL2NvbmZpZy9jb25maWcuanNcIlxuaW1wb3J0IHsgcm90YXRlU2lnbiB9IGZyb20gXCIuL3JvdGF0aW9uX2RlZ3JlZV9oYW5kbGVycy5qc1wiXG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhclZpZXcoc3RhdGUpIHtcbiAgICB2aWV3ZXJfY3R4LmNsZWFyUmVjdCgtc3RhdGUuY2FudmFzV2lkdGggKiAwLjUsIC1zdGF0ZS5jYW52YXNIZWlnaHQgKiAwLjUsIHN0YXRlLmNhbnZhc1dpZHRoLCBzdGF0ZS5jYW52YXNIZWlnaHQpXG4gICAgcmV0dXJuIHN0YXRlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBibG9iVG9DYW52YXMoc3RhdGUpIHtcblxuICAgIGNvbnN0IGltYWdlX3NyY3MgPSBzdGF0ZS5pc0Nyb3NzTmljb2xcbiAgICAgICAgPyBzdGF0ZS5jcm9zc19pbWFnZXNcbiAgICAgICAgOiBzdGF0ZS5vcGVuX2ltYWdlc1xuXG4gICAgLy8gdmlldyB3aW5kb3cgY2lyY2xlXG5cbiAgICB2aWV3ZXJfY3R4LnNhdmUoKVxuICAgIHZpZXdlcl9jdHguYmVnaW5QYXRoKClcbiAgICB2aWV3ZXJfY3R4LmFyYygwLCAwLCBzdGF0ZS5jYW52YXNXaWR0aCAvIDIgLSBWSUVXX1BBRERJTkcsIDAsIE1hdGguUEkgKiAyLCBmYWxzZSlcbiAgICB2aWV3ZXJfY3R4LmNsaXAoKVxuXG4gICAgLy8gRHJhdyBhIGltYWdlXG4gICAgY29uc3QgYWxwaGEgPSBzdGF0ZS5nZXRBbHBoYShzdGF0ZS5yb3RhdGUpXG5cbiAgICB2aWV3ZXJfY3R4LnJvdGF0ZShcbiAgICAgICAgcm90YXRlU2lnbihzdGF0ZS5pc0Nsb2Nrd2lzZSkgKiAoc3RhdGUucm90YXRlICsgc3RhdGUuZ2V0SW1hZ2VOdW1iZXIoc3RhdGUucm90YXRlKSAqIHN0YXRlLnJvdGF0ZV9kZWdyZWVfc3RlcCkgLyAxODAgKiBNYXRoLlBJXG4gICAgKVxuXG4gICAgdmlld2VyX2N0eC5nbG9iYWxBbHBoYSA9IDFcbiAgICBjb25zdCBpbWFnZTEgPSBpbWFnZV9zcmNzW3N0YXRlLmdldEltYWdlTnVtYmVyKHN0YXRlLnJvdGF0ZSldXG5cbiAgICB0cnkge1xuICAgICAgICB2aWV3ZXJfY3R4LmRyYXdJbWFnZShcbiAgICAgICAgICAgIGltYWdlMSxcbiAgICAgICAgICAgIC4uLmNsaXBHZW9tZXRvcnlGcm9tSW1hZ2VDZW50ZXIoc3RhdGUpLFxuICAgICAgICAgICAgLXN0YXRlLmNhbnZhc1dpZHRoIC8gMixcbiAgICAgICAgICAgIC1zdGF0ZS5jYW52YXNIZWlnaHQgLyAyLFxuICAgICAgICAgICAgc3RhdGUuY2FudmFzV2lkdGgsXG4gICAgICAgICAgICBzdGF0ZS5jYW52YXNIZWlnaHRcbiAgICAgICAgKTtcbiAgICB9IGNhdGNoIChlKSB7XG5cbiAgICB9XG5cbiAgICB2aWV3ZXJfY3R4LnJlc3RvcmUoKVxuXG4gICAgLy8gRHJhdyBuZXh0IGltYWdlXG4gICAgdmlld2VyX2N0eC5zYXZlKClcbiAgICB2aWV3ZXJfY3R4LmJlZ2luUGF0aCgpXG4gICAgdmlld2VyX2N0eC5hcmMoMCwgMCwgc3RhdGUuY2FudmFzV2lkdGggLyAyIC0gVklFV19QQURESU5HLCAwLCBNYXRoLlBJICogMiwgZmFsc2UpXG4gICAgdmlld2VyX2N0eC5jbGlwKClcblxuICAgIHZpZXdlcl9jdHgucm90YXRlKFxuICAgICAgICByb3RhdGVTaWduKHN0YXRlLmlzQ2xvY2t3aXNlKSAqIChzdGF0ZS5yb3RhdGUgKyBzdGF0ZS5nZXRJbWFnZU51bWJlcihzdGF0ZS5yb3RhdGUgKyBzdGF0ZS5yb3RhdGVfZGVncmVlX3N0ZXApICogc3RhdGUucm90YXRlX2RlZ3JlZV9zdGVwKSAvIDE4MCAqIE1hdGguUElcbiAgICApXG5cbiAgICB2aWV3ZXJfY3R4Lmdsb2JhbEFscGhhID0gMSAtIGFscGhhXG4gICAgY29uc3QgaW1hZ2UyID0gaW1hZ2Vfc3Jjc1tzdGF0ZS5nZXRJbWFnZU51bWJlcihzdGF0ZS5yb3RhdGUgKyBzdGF0ZS5yb3RhdGVfZGVncmVlX3N0ZXApXVxuICAgIHRyeSB7XG4gICAgICAgIHZpZXdlcl9jdHguZHJhd0ltYWdlKFxuICAgICAgICAgICAgaW1hZ2UyLFxuICAgICAgICAgICAgLi4uY2xpcEdlb21ldG9yeUZyb21JbWFnZUNlbnRlcihzdGF0ZSksXG4gICAgICAgICAgICAtc3RhdGUuY2FudmFzV2lkdGggLyAyLFxuICAgICAgICAgICAgLXN0YXRlLmNhbnZhc0hlaWdodCAvIDIsXG4gICAgICAgICAgICBzdGF0ZS5jYW52YXNXaWR0aCxcbiAgICAgICAgICAgIHN0YXRlLmNhbnZhc0hlaWdodClcbiAgICB9IGNhdGNoIChlKSB7XG5cbiAgICB9XG4gICAgdmlld2VyX2N0eC5yZXN0b3JlKClcbiAgICByZXR1cm4gc3RhdGVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdIYWlyTGluZShzdGF0ZSkge1xuICAgIGlmICghc3RhdGUuZHJhd0hhaXJMaW5lKSByZXR1cm5cbiAgICB2aWV3ZXJfY3R4LnN0cm9rZVN0eWxlID0gc3RhdGUuaXNDcm9zc05pY29sXG4gICAgICAgID8gXCJ3aGl0ZVwiXG4gICAgICAgIDogXCJibGFja1wiO1xuICAgIHZpZXdlcl9jdHguZ2xvYmFsQWxwaGEgPSAxXG4gICAgdmlld2VyX2N0eC5iZWdpblBhdGgoKVxuICAgIHZpZXdlcl9jdHgubW92ZVRvKDAsIC1zdGF0ZS5jYW52YXNIZWlnaHQgKiAwLjUgKyBWSUVXX1BBRERJTkcpXG4gICAgdmlld2VyX2N0eC5saW5lVG8oMCwgc3RhdGUuY2FudmFzSGVpZ2h0ICogMC41IC0gVklFV19QQURESU5HKVxuICAgIHZpZXdlcl9jdHgubW92ZVRvKC1zdGF0ZS5jYW52YXNXaWR0aCAqIDAuNSArIFZJRVdfUEFERElORywgMClcbiAgICB2aWV3ZXJfY3R4LmxpbmVUbyhzdGF0ZS5jYW52YXNXaWR0aCAqIDAuNSAtIFZJRVdfUEFERElORywgMClcbiAgICB2aWV3ZXJfY3R4LmNsb3NlUGF0aCgpXG4gICAgdmlld2VyX2N0eC5zdHJva2UoKVxuICAgIHJldHVybiBzdGF0ZVxufVxuXG5jb25zdCBzY2FsZUxlbmd0aCA9IChjYW52YXNXaWR0aCwgaW1hZ2VXaWR0aCwgc2NhbGVXaWR0aCkgPT4gY2FudmFzV2lkdGggKiBzY2FsZVdpZHRoIC8gaW1hZ2VXaWR0aFxuXG5leHBvcnQgZnVuY3Rpb24gZHJhd1NjYWxlKHN0YXRlKSB7XG4gICAgaWYgKCFzdGF0ZVtcInNjYWxlV2lkdGhcIl0pIHJldHVybjtcbiAgICBsZXQgc2NhbGVQaXhlbCA9IHNjYWxlTGVuZ3RoKHN0YXRlLmNhbnZhc1dpZHRoLCBzdGF0ZS5pbWFnZVJhZGl1cyAqIDIsIHN0YXRlLnNjYWxlV2lkdGgpXG4gICAgY29uc3QgY2FudmFzV2lkdGggPSBzdGF0ZS5jYW52YXNXaWR0aDtcbiAgICBjb25zdCBzY2FsZUJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc2NhbGViYXJcIilcblxuXG4gICAgbGV0IHNjYWxlTnVtYmVyID0gc3RhdGUuc2NhbGVUZXh0Lm1hdGNoKC8oXFxkK1xcLj9cXGQqKS8pWzBdICogMVxuICAgIGNvbnN0IHNjYWxlVW5pdCA9IHN0YXRlLnNjYWxlVGV4dC5tYXRjaCgvXFxEKiQvKVswXVxuXG4gICAgd2hpbGUgKHNjYWxlUGl4ZWwgPj0gY2FudmFzV2lkdGgpIHtcbiAgICAgICAgc2NhbGVQaXhlbCAqPSAwLjVcbiAgICAgICAgc2NhbGVOdW1iZXIgKj0gMC41XG4gICAgfVxuICAgIHNjYWxlQmFyLnN0eWxlLndpZHRoID0gc2NhbGVQaXhlbCArIFwicHhcIjtcbiAgICBzY2FsZUJhci5xdWVyeVNlbGVjdG9yKFwiZGl2OmZpcnN0LWNoaWxkXCIpLmlubmVySFRNTCA9IGAke3NjYWxlTnVtYmVyfSAke3NjYWxlVW5pdH1gO1xuICAgIHJldHVybiBzdGF0ZVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/draw_state_updators.js\n");

/***/ }),

/***/ "./src/js/getCoordinateOnCanvas.js":
/*!*****************************************!*\
  !*** ./src/js/getCoordinateOnCanvas.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return getCoordinateOnCanvas; });\nfunction getCoordinateOnCanvas(canvas) {\n    return (e, fingur = 0) => {\n        if (e instanceof MouseEvent) {\n            return (e instanceof WheelEvent)\n                ? [\n                    e.deltaX,\n                    e.deltaY\n                ]\n                : [\n                    e.pageX - canvas.offsetLeft,\n                    e.pageY - canvas.offsetTop\n                ]\n        } else if (e instanceof TouchEvent && e.touches.length > fingur) {\n            return [\n                e.touches[fingur].pageX - canvas.offsetLeft,\n                e.touches[fingur].pageY - canvas.offsetTop\n            ]\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvZ2V0Q29vcmRpbmF0ZU9uQ2FudmFzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2dldENvb3JkaW5hdGVPbkNhbnZhcy5qcz82YzQ0Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldENvb3JkaW5hdGVPbkNhbnZhcyhjYW52YXMpIHtcbiAgICByZXR1cm4gKGUsIGZpbmd1ciA9IDApID0+IHtcbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBNb3VzZUV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gKGUgaW5zdGFuY2VvZiBXaGVlbEV2ZW50KVxuICAgICAgICAgICAgICAgID8gW1xuICAgICAgICAgICAgICAgICAgICBlLmRlbHRhWCxcbiAgICAgICAgICAgICAgICAgICAgZS5kZWx0YVlcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgOiBbXG4gICAgICAgICAgICAgICAgICAgIGUucGFnZVggLSBjYW52YXMub2Zmc2V0TGVmdCxcbiAgICAgICAgICAgICAgICAgICAgZS5wYWdlWSAtIGNhbnZhcy5vZmZzZXRUb3BcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgIH0gZWxzZSBpZiAoZSBpbnN0YW5jZW9mIFRvdWNoRXZlbnQgJiYgZS50b3VjaGVzLmxlbmd0aCA+IGZpbmd1cikge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBlLnRvdWNoZXNbZmluZ3VyXS5wYWdlWCAtIGNhbnZhcy5vZmZzZXRMZWZ0LFxuICAgICAgICAgICAgICAgIGUudG91Y2hlc1tmaW5ndXJdLnBhZ2VZIC0gY2FudmFzLm9mZnNldFRvcFxuICAgICAgICAgICAgXVxuICAgICAgICB9XG4gICAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/getCoordinateOnCanvas.js\n");

/***/ }),

/***/ "./src/js/getMaxViewerSize.js":
/*!************************************!*\
  !*** ./src/js/getMaxViewerSize.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return getMaxViewerSize; });\nfunction getMaxViewerSize() {\n    const topBarSpaceHeight = 200 // px\n    const width = window.innerWidth\n    const height = window.innerHeight - topBarSpaceHeight\n    return width < height ? width : height\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvZ2V0TWF4Vmlld2VyU2l6ZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9nZXRNYXhWaWV3ZXJTaXplLmpzP2MwMzkiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0TWF4Vmlld2VyU2l6ZSgpIHtcbiAgICBjb25zdCB0b3BCYXJTcGFjZUhlaWdodCA9IDIwMCAvLyBweFxuICAgIGNvbnN0IHdpZHRoID0gd2luZG93LmlubmVyV2lkdGhcbiAgICBjb25zdCBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLSB0b3BCYXJTcGFjZUhlaWdodFxuICAgIHJldHVybiB3aWR0aCA8IGhlaWdodCA/IHdpZHRoIDogaGVpZ2h0XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/getMaxViewerSize.js\n");

/***/ }),

/***/ "./src/js/index_make_package.js":
/*!**************************************!*\
  !*** ./src/js/index_make_package.js ***!
  \**************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _state_initState_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./state/initState.js */ \"./src/js/state/initState.js\");\n/* harmony import */ var _package_manifest_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./package_manifest.js */ \"./src/js/package_manifest.js\");\n/* harmony import */ var _updateViewerGeometry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./updateViewerGeometry.js */ \"./src/js/updateViewerGeometry.js\");\n/* harmony import */ var _updateStateByMeta_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./updateStateByMeta.js */ \"./src/js/updateStateByMeta.js\");\n/* harmony import */ var _viewer_handlers_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./viewer_handlers.js */ \"./src/js/viewer_handlers.js\");\n/* harmony import */ var _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./viewer_canvas.js */ \"./src/js/viewer_canvas.js\");\n/* harmony import */ var _draw_state_updators_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./draw_state_updators.js */ \"./src/js/draw_state_updators.js\");\n/* harmony import */ var _coordinate_updators_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./coordinate_updators.js */ \"./src/js/coordinate_updators.js\");\n/* harmony import */ var _touchEventHandlers_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./touchEventHandlers.js */ \"./src/js/touchEventHandlers.js\");\n/* harmony import */ var _wheelEventHandler_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./wheelEventHandler.js */ \"./src/js/wheelEventHandler.js\");\n\n\n\n\n\n\n\n\n\n\n\nconst packageMap = new _package_manifest_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst upload_state = Object.assign(\n    Object(_state_initState_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(),\n    {\n        \"loadImages\": [false, true],\n        \"autoRotate\": false,\n        \"viewMode\": \"validation\",\n        \"language\": \"ja\",\n        \"desiredImageSize\": 150,\n        \"desiredThumbnailImageSize\": 100,\n    }\n)\n\nfunction bothImagesLoaded(flags) {\n    return flags.reduce((acc, e) => acc && e, true)\n}\n\nfunction fileSelectHander(e) {\n    function read(file) {\n        return new Promise((res, rej) => {\n            const reader = new FileReader()\n            reader.readAsDataURL(file)\n            reader.onloadend = function () {\n                res(reader.result)\n            };\n        })\n    }\n\n    return new Promise((res, rej) => {\n        const files = e.target.files;\n        Promise.all(\n            Array.from(files)\n                .map(file => read(file))\n        ).then(res)\n    })\n}\n\nfunction readImageSize(state) {\n    packageMap.setImageSize(state.open_images[0])\n    return state\n}\n\nfunction readImagesNumber(state) {\n    packageMap.setImagesNumber(state.open_images.length)\n    return state\n}\n\nasync function showImages(state) {\n    readImageSize(state)\n    readImagesNumber(state)\n    const new_state = await Object(_updateStateByMeta_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(state, \"upload\")(packageMap.packageID, packageMap.toJSON())\n\n    new_state.open_images = await Promise.all(state.open_image_srcs.map(loadImageFromSrc))\n    new_state.cross_images = await Promise.all(state.cross_image_srcs.map(loadImageFromSrc))\n\n    return updateView(new_state)\n        .then(_viewer_handlers_js__WEBPACK_IMPORTED_MODULE_4__[\"showViewer\"])\n        .then(_viewer_handlers_js__WEBPACK_IMPORTED_MODULE_4__[\"showNicolButton\"])\n}\n\nfunction loadImageFromSrc(src) {\n    return new Promise((res, rej) => {\n\n        const img = new Image()\n\n        img.onload = _ => {\n            res(img)\n        }\n\n        img.src = src\n\n    })\n}\n\nfunction openImagesSelectHandler(state) {\n    return e => new Promise(async (res, rej) => {\n        state.open_image_srcs = await fileSelectHander(e)\n        state.loadImages[0] = true\n        state.open_images = await Promise.all(state.open_image_srcs.map(loadImageFromSrc))\n        await showImages(state)\n\n        res(state)\n    })\n}\n\nfunction crossImagesSelectHandler(state) {\n    return e => new Promise(async (res, rej) => {\n        state.cross_image_srcs = await fileSelectHander(e)\n        state.loadImages[1] = true\n        state.cross_images = await Promise.all(state.cross_image_srcs.map(loadImageFromSrc))\n        await showImages(state)\n\n        res(state)\n    })\n}\n\nasync function updateView(state) {\n    Object(_draw_state_updators_js__WEBPACK_IMPORTED_MODULE_6__[\"clearView\"])(state)\n    Object(_draw_state_updators_js__WEBPACK_IMPORTED_MODULE_6__[\"blobToCanvas\"])(state)\n    Object(_draw_state_updators_js__WEBPACK_IMPORTED_MODULE_6__[\"drawHairLine\"])(state)\n    Object(_draw_state_updators_js__WEBPACK_IMPORTED_MODULE_6__[\"drawScale\"])(state)\n    return state\n}\n\n\nfunction activateDom(selector) {\n    Array.from(document.querySelectorAll(selector))\n        .forEach(dom => {\n            dom.classList.remove(\"inactive\")\n        })\n}\n\n\nfunction base64ToBlob(base64, mime) {\n    var binary = atob(base64);\n    var buffer = new Uint8Array(binary.length)\n    for (var i = 0; i < binary.length; i++) {\n        buffer[i] = binary.charCodeAt(i);\n    }\n    return new Blob([buffer.buffer], {\n        type: mime\n    });\n}\n\nfunction compressImageSrc(src, format, desiredKByte = 150) {\n    console.assert([\"jpeg\", \"webp\"].includes(format))\n\n    const image = new Image()\n    image.src = src\n    const w = image.width\n    const h = image.height\n    const cvs = document.querySelector(\"#working_canvas\")\n    cvs.width = w\n    cvs.height = h\n    const ctx = cvs.getContext(\"2d\")\n    ctx.drawImage(image, 0, 0, w, h)\n\n    const originalBinary = cvs.toDataURL(`image/${format}`); //画質落とさずバイナリ化\n    const mime = originalBinary.match(/(:)([a-z\\/]+)(;)/)[2]\n\n    const originalBlob = base64ToBlob(originalBinary.split(\",\")[1], mime);\n\n    if (desiredKByte * 1e3 < originalBlob[\"size\"]) {\n        const capacityRatio = desiredKByte * 1e3 / originalBlob[\"size\"];\n        const processingBinary = cvs.toDataURL(`image/${format}`, capacityRatio); //画質落としてバイナリ化\n        return base64ToBlob(processingBinary.split(\",\")[1], mime);\n    } else {\n        return originalBlob\n    }\n}\n\nfunction showErrorMessage(domId, message) {\n    const messageDom = document.querySelector(domId)\n    messageDom.innerHTML = message\n    messageDom.classList.remove(\"inactive\")\n}\n\nfunction hideErrorMessage(domId) {\n    const messageDom = document.querySelector(domId)\n    messageDom.classList.add(\"inactive\")\n}\n\n\nfunction sendSampleListEntry(json_obj) {\n    if (json_obj[\"package-name\"].match(new RegExp(\"^[0-9a-zA-Z_-]+$\")) === null) {\n        throw new Error(\"Package ID should contain only number, alphabet, _, and -.\")\n    }\n    if (Object.keys(json_obj[\"list-name\"]).length === 0) {\n        throw new Error(\"Sample title is not set.\")\n    }\n    document.querySelector(\"#dev_sample_list_entry\").innerHTML = JSON.stringify(json_obj, null, 2)\n};\n\nfunction initializeOrUpdateInput(inputDom, value) {\n    if (!inputDom.value) {\n        inputDom.value = value\n    }\n}\n\nfunction showPackageSize(state) {\n    // Sum open and cross images (contains thumbnail)\n    const imagesSize = (state.open_image_srcs.length * state.desiredImageSize + state.desiredThumbnailImageSize) * 2\n    document.querySelector(\"#message_package_size\").innerHTML = imagesSize\n}\n\n(function (state) {\n    document.querySelector(\"#input_package_id\").addEventListener(\n        \"change\",\n        e => {\n            packageMap.setPackageID(e.target.value)\n        },\n        false\n    )\n\n    document.querySelector(\"#input_desired_image_size\").addEventListener(\n        \"change\",\n        e => {\n            state.desiredImageSize = parseFloat(e.target.value)\n            showPackageSize(state)\n        },\n        false\n    )\n\n    document.querySelector(\"#input_desired_thumbnail_image_size\").addEventListener(\n        \"change\",\n        e => {\n            state.desiredThumbnailImageSize = parseFloat(e.target.value)\n            showPackageSize(state)\n        },\n        false\n    )\n\n    const centerToRight = document.querySelector(\"#rotate_center_from_left\")\n    centerToRight.addEventListener(\n        \"change\",\n        e => {\n            state.rotate_center.to_right = parseFloat(centerToRight.value)\n            updateView(state)\n        },\n        false\n    )\n    const centerToBottom = document.querySelector(\"#rotate_center_from_top\")\n    centerToBottom.addEventListener(\n        \"change\",\n        e => {\n            state.rotate_center.to_bottom = parseFloat(centerToBottom.value)\n            updateView(state)\n        },\n        false\n    )\n\n    document.querySelector(\"#open_nicol_images\").addEventListener(\n        \"change\",\n        e => {\n            openImagesSelectHandler(state)(e).then(state => {\n                initializeOrUpdateInput(centerToRight, state.open_images[0].width / 2)\n                initializeOrUpdateInput(centerToBottom, state.open_images[0].height / 2)\n                showPackageSize(state)\n            })\n        },\n        false\n    )\n\n    document.querySelector(\"#cross_nicol_images\").addEventListener(\n        \"change\",\n        e => {\n            crossImagesSelectHandler(state)(e).then(state => {\n                initializeOrUpdateInput(centerToRight, state.cross_images[0].width / 2)\n                initializeOrUpdateInput(centerToBottom, state.cross_images[0].height / 2)\n                showPackageSize(state)\n            })\n        },\n        false\n    )\n\n    const rotateDirectionSelector = document.querySelector(\"#select_rotate_direction\")\n    rotateDirectionSelector.addEventListener(\n        \"change\",\n        e => {\n            const direction = e.target.options[e.target.selectedIndex].value\n            packageMap.setRotateDirection(direction)\n        },\n        false\n    )\n\n    const inputRotationInterval = document.querySelector(\"#input_rotation_interval\")\n    inputRotationInterval.addEventListener(\n        \"change\",\n        e => {\n            packageMap.setEachRotateDegree(inputRotationInterval.value)\n            activateDom(\"#select_image_wrapper\")\n        },\n        false\n    )\n\n    const inputScaleUnit = document.querySelector(\"#input_scale_unit\")\n    inputScaleUnit.addEventListener(\n        \"change\",\n        e => {\n            packageMap.setScaleUnit(inputScaleUnit.value)\n        },\n        false\n    )\n\n    const inputScaleLength = document.querySelector(\"#input_scale_length\")\n    inputScaleLength.addEventListener(\n        \"change\",\n        e => {\n            packageMap.setScalePixel(inputScaleLength.value)\n        },\n        false\n    )\n\n    const inputMagnification = document.querySelector(\"#input_magnification\")\n    inputMagnification.addEventListener(\n        \"change\",\n        e => {\n            packageMap.setMagnify(e.target.value)\n        },\n        false\n    )\n\n    const inputSampleLabel = document.querySelector(\"#input_sample_label\")\n    inputSampleLabel.addEventListener(\n        \"change\",\n        e => {\n            packageMap.setSampleLabel(e.target.value)\n        },\n        false\n    )\n\n    Array.from(document.querySelectorAll(\".input_sample_location\")).forEach(dom => {\n        dom.addEventListener(\n            \"change\",\n            e => {\n                packageMap.setSampleLocation(e.target.dataset.lang, e.target.value)\n            },\n            false\n        )\n    })\n\n    Array.from(document.querySelectorAll(\".input_sample_type\")).forEach(dom => {\n        dom.addEventListener(\n            \"change\",\n            e => {\n                packageMap.setRockType(e.target.dataset.lang, e.target.value)\n            },\n            false\n        )\n    })\n\n    Array.from(document.querySelectorAll(\".input_description\")).forEach(dom => {\n        dom.addEventListener(\n            \"change\",\n            e => {\n                packageMap.setDescription(e.target.dataset.lang, e.target.value)\n            },\n            false\n        )\n    })\n\n    Array.from(document.querySelectorAll(\".input_sample_title\"))\n        .forEach(dom => {\n            dom.addEventListener(\n                \"change\",\n                e => {\n                    packageMap.setListName(e.target.dataset.lang, e.target.value)\n\n                }\n            )\n        })\n\n    Array.from(document.querySelectorAll(\".input_owner\")).forEach(dom => {\n        dom.addEventListener(\n            \"change\",\n            e => {\n                packageMap.setOwner(e.target.dataset.lang, e.target.value)\n            },\n            false\n        )\n    })\n\n    const toggleNicolButton = document.querySelector(\"#change_nicol\")\n    const toggleNicolLabel = document.querySelector(\"#change_nicol + label\")\n\n    const toggleNicolHandler = state => new Promise((res, rej) => {\n\n        toggleNicolButton.checked = state.isCrossNicol\n        state.isCrossNicol = !state.isCrossNicol;\n\n        res(state)\n    })\n\n    toggleNicolButton.addEventListener(\n        \"click\",\n        e => { e.preventDefault() },\n        false\n    )\n\n\n    toggleNicolLabel.addEventListener(\n        \"touch\",\n        e => { e.preventDefault() },\n        false\n    )\n\n    toggleNicolButton.addEventListener(\n        \"touch\",\n        e => { e.preventDefault() },\n        false\n    )\n\n\n    toggleNicolLabel.addEventListener(\n        \"mouseup\",\n        e => toggleNicolHandler(state)\n            .then(updateView),\n        false\n    )\n\n    toggleNicolLabel.addEventListener(\n        \"touchend\",\n        e => toggleNicolHandler(state)\n            .then(updateView)\n            .then(_ => {\n                if (e.cancelable) {\n                    e.preventDefault();\n                }\n            }),\n        false\n    )\n\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_5__[\"viewer\"].oncontextmenu = function (e) {\n        const position_on_canvas = Object(_coordinate_updators_js__WEBPACK_IMPORTED_MODULE_7__[\"canvasCoordinate\"])(e)\n        const current_rotate_center = Object.values(state.rotate_center)\n        const shift = [\n            position_on_canvas[0] - state.canvasWidth * 0.5,\n            position_on_canvas[1] - state.canvasHeight * 0.5\n        ]\n\n        state.rotate_center.to_right += parseInt(shift[0] * state.imageRadius / state.canvasWidth * 2)\n        state.rotate_center.to_bottom += parseInt(shift[1] * state.imageRadius / state.canvasWidth * 2)\n\n        packageMap.setRotateCenter(\n            state.rotate_center.to_right,\n            state.rotate_center.to_bottom\n        )\n\n        centerToRight.value = state.rotate_center.to_right\n        centerToBottom.value = state.rotate_center.to_bottom\n\n        e.preventDefault()\n        updateView(state)\n        return false;\n    }\n\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_5__[\"viewer\"].addEventListener(\n        \"mousedown\",\n        Object(_touchEventHandlers_js__WEBPACK_IMPORTED_MODULE_8__[\"touchStartHandler\"])(state),\n        false\n    )\n\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_5__[\"viewer\"].addEventListener(\n        \"dragstart\",\n        e => { e.preventDefault() },\n        false\n    )\n\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_5__[\"viewer\"].addEventListener(\n        \"drag\",\n        e => { e.preventDefault() },\n        false\n    )\n\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_5__[\"viewer\"].addEventListener(\n        \"dragend\",\n        e => { e.preventDefault() },\n        false\n    )\n\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_5__[\"viewer\"].addEventListener(\n        \"touchstart\",\n        Object(_touchEventHandlers_js__WEBPACK_IMPORTED_MODULE_8__[\"touchStartHandler\"])(state),\n        false\n    )\n\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_5__[\"viewer\"].addEventListener(\n        \"mousemove\",\n        Object(_touchEventHandlers_js__WEBPACK_IMPORTED_MODULE_8__[\"touchMoveHandler\"])(state),\n        false\n    )\n\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_5__[\"viewer\"].addEventListener(\n        \"touchmove\",\n        Object(_touchEventHandlers_js__WEBPACK_IMPORTED_MODULE_8__[\"touchMoveHandler\"])(state),\n        false\n    )\n\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_5__[\"viewer\"].addEventListener(\n        \"mouseup\",\n        Object(_touchEventHandlers_js__WEBPACK_IMPORTED_MODULE_8__[\"touchEndHandler\"])(state),\n        false\n    )\n\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_5__[\"viewer\"].addEventListener(\n        \"touchend\",\n        Object(_touchEventHandlers_js__WEBPACK_IMPORTED_MODULE_8__[\"touchEndHandler\"])(state),\n        false\n    )\n\n    _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_5__[\"viewer\"].addEventListener(\n        \"wheel\",\n        Object(_wheelEventHandler_js__WEBPACK_IMPORTED_MODULE_9__[\"wheelHandler\"])(state),\n        false\n    )\n\n    document.querySelector(\"#create_package_button\").addEventListener(\n        \"click\",\n        e => {\n            e.preventDefault()\n            async function makeZip() {\n                const listEntry = packageMap.getSampleListEntry()\n                sendSampleListEntry(listEntry)\n\n                const zip = new JSZip();\n                const jpgZip = new JSZip()\n                const webpZip = new JSZip()\n\n                if (state.open_image_srcs.length === 0) {\n                    throw new Error(\"No open Nicol images are selected.\")\n                }\n                if (state.cross_image_srcs.length === 0) {\n                    throw new Error(\"No crossed Nicol images are selected.\")\n                }\n\n                // Thumbnails\n                zip.file(\"o1.jpg\", compressImageSrc(state.open_image_srcs[0], \"jpeg\", state.desiredThumbnailImageSize))\n                zip.file(\"c1.jpg\", compressImageSrc(state.cross_image_srcs[0], \"jpeg\", state.desiredThumbnailImageSize))\n\n                // Image sets\n                packageMap.setImageFormats([\"webp\", \"jpg\"])\n                state.open_image_srcs.forEach((src, i) => {\n                    webpZip.file(`o${i + 1}.webp`, compressImageSrc(src, \"webp\", state.desiredImageSize))\n                    jpgZip.file(`o${i + 1}.jpg`, compressImageSrc(src, \"jpeg\", state.desiredImageSize))\n                })\n                state.cross_image_srcs.forEach((src, i) => {\n                    webpZip.file(`c${i + 1}.webp`, compressImageSrc(src, \"webp\", state.desiredImageSize))\n                    jpgZip.file(`c${i + 1}.jpg`, compressImageSrc(src, \"jpeg\", state.desiredImageSize))\n                })\n\n                const meta = new Blob([JSON.stringify(packageMap.toJSON(), null, 2)], { \"type\": \"text/json\" });\n                zip.file(\"manifest.json\", meta)\n                zip.file(\"webp.zip\", await webpZip.generateAsync({ type: \"blob\" }))\n                zip.file(\"jpg.zip\", await jpgZip.generateAsync({ type: \"blob\" }))\n                const zipContent = await zip.generateAsync({ type: \"blob\" })\n\n                const a = document.querySelector(\"#working_anchor\")\n                a.download = `${packageMap.getPackageID()}.zip`\n                a.href = window.URL.createObjectURL(zipContent)\n                a.click()\n\n            }\n            makeZip()\n                .then(() => {\n                    hideErrorMessage(\"#error_make_package\")\n                })\n                .catch(e => {\n                    showErrorMessage(\"#error_make_package\", e)\n                })\n        },\n        false\n    )\n\n    Object(_updateViewerGeometry_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(state)\n})(upload_state)\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvaW5kZXhfbWFrZV9wYWNrYWdlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2luZGV4X21ha2VfcGFja2FnZS5qcz84OGQ4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBpbml0U3RhdGUgZnJvbSBcIi4vc3RhdGUvaW5pdFN0YXRlLmpzXCJcbmltcG9ydCBQYWNrYWdlTWFuaWZlc3QgZnJvbSBcIi4vcGFja2FnZV9tYW5pZmVzdC5qc1wiXG5pbXBvcnQgdXBkYXRlVmlld2VyR2VvbWV0cnkgZnJvbSBcIi4vdXBkYXRlVmlld2VyR2VvbWV0cnkuanNcIlxuaW1wb3J0IHVwZGF0ZVN0YXRlQnlNZXRhIGZyb20gXCIuL3VwZGF0ZVN0YXRlQnlNZXRhLmpzXCJcbmltcG9ydCB7IHNob3dWaWV3ZXIsIHNob3dOaWNvbEJ1dHRvbiB9IGZyb20gXCIuL3ZpZXdlcl9oYW5kbGVycy5qc1wiXG5pbXBvcnQgeyB2aWV3ZXIgfSBmcm9tIFwiLi92aWV3ZXJfY2FudmFzLmpzXCJcbmltcG9ydCB7IGNsZWFyVmlldywgYmxvYlRvQ2FudmFzLCBkcmF3SGFpckxpbmUsIGRyYXdTY2FsZSB9IGZyb20gXCIuL2RyYXdfc3RhdGVfdXBkYXRvcnMuanNcIlxuaW1wb3J0IHsgY2FudmFzQ29vcmRpbmF0ZSB9IGZyb20gXCIuL2Nvb3JkaW5hdGVfdXBkYXRvcnMuanNcIlxuaW1wb3J0IHsgdG91Y2hTdGFydEhhbmRsZXIsIHRvdWNoRW5kSGFuZGxlciwgdG91Y2hNb3ZlSGFuZGxlciB9IGZyb20gXCIuL3RvdWNoRXZlbnRIYW5kbGVycy5qc1wiXG5pbXBvcnQgeyB3aGVlbEhhbmRsZXIgfSBmcm9tIFwiLi93aGVlbEV2ZW50SGFuZGxlci5qc1wiXG5cbmNvbnN0IHBhY2thZ2VNYXAgPSBuZXcgUGFja2FnZU1hbmlmZXN0KCk7XG5jb25zdCB1cGxvYWRfc3RhdGUgPSBPYmplY3QuYXNzaWduKFxuICAgIGluaXRTdGF0ZSgpLFxuICAgIHtcbiAgICAgICAgXCJsb2FkSW1hZ2VzXCI6IFtmYWxzZSwgdHJ1ZV0sXG4gICAgICAgIFwiYXV0b1JvdGF0ZVwiOiBmYWxzZSxcbiAgICAgICAgXCJ2aWV3TW9kZVwiOiBcInZhbGlkYXRpb25cIixcbiAgICAgICAgXCJsYW5ndWFnZVwiOiBcImphXCIsXG4gICAgICAgIFwiZGVzaXJlZEltYWdlU2l6ZVwiOiAxNTAsXG4gICAgICAgIFwiZGVzaXJlZFRodW1ibmFpbEltYWdlU2l6ZVwiOiAxMDAsXG4gICAgfVxuKVxuXG5mdW5jdGlvbiBib3RoSW1hZ2VzTG9hZGVkKGZsYWdzKSB7XG4gICAgcmV0dXJuIGZsYWdzLnJlZHVjZSgoYWNjLCBlKSA9PiBhY2MgJiYgZSwgdHJ1ZSlcbn1cblxuZnVuY3Rpb24gZmlsZVNlbGVjdEhhbmRlcihlKSB7XG4gICAgZnVuY3Rpb24gcmVhZChmaWxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpXG4gICAgICAgICAgICByZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlcyhyZWFkZXIucmVzdWx0KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgICAgIGNvbnN0IGZpbGVzID0gZS50YXJnZXQuZmlsZXM7XG4gICAgICAgIFByb21pc2UuYWxsKFxuICAgICAgICAgICAgQXJyYXkuZnJvbShmaWxlcylcbiAgICAgICAgICAgICAgICAubWFwKGZpbGUgPT4gcmVhZChmaWxlKSlcbiAgICAgICAgKS50aGVuKHJlcylcbiAgICB9KVxufVxuXG5mdW5jdGlvbiByZWFkSW1hZ2VTaXplKHN0YXRlKSB7XG4gICAgcGFja2FnZU1hcC5zZXRJbWFnZVNpemUoc3RhdGUub3Blbl9pbWFnZXNbMF0pXG4gICAgcmV0dXJuIHN0YXRlXG59XG5cbmZ1bmN0aW9uIHJlYWRJbWFnZXNOdW1iZXIoc3RhdGUpIHtcbiAgICBwYWNrYWdlTWFwLnNldEltYWdlc051bWJlcihzdGF0ZS5vcGVuX2ltYWdlcy5sZW5ndGgpXG4gICAgcmV0dXJuIHN0YXRlXG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNob3dJbWFnZXMoc3RhdGUpIHtcbiAgICByZWFkSW1hZ2VTaXplKHN0YXRlKVxuICAgIHJlYWRJbWFnZXNOdW1iZXIoc3RhdGUpXG4gICAgY29uc3QgbmV3X3N0YXRlID0gYXdhaXQgdXBkYXRlU3RhdGVCeU1ldGEoc3RhdGUsIFwidXBsb2FkXCIpKHBhY2thZ2VNYXAucGFja2FnZUlELCBwYWNrYWdlTWFwLnRvSlNPTigpKVxuXG4gICAgbmV3X3N0YXRlLm9wZW5faW1hZ2VzID0gYXdhaXQgUHJvbWlzZS5hbGwoc3RhdGUub3Blbl9pbWFnZV9zcmNzLm1hcChsb2FkSW1hZ2VGcm9tU3JjKSlcbiAgICBuZXdfc3RhdGUuY3Jvc3NfaW1hZ2VzID0gYXdhaXQgUHJvbWlzZS5hbGwoc3RhdGUuY3Jvc3NfaW1hZ2Vfc3Jjcy5tYXAobG9hZEltYWdlRnJvbVNyYykpXG5cbiAgICByZXR1cm4gdXBkYXRlVmlldyhuZXdfc3RhdGUpXG4gICAgICAgIC50aGVuKHNob3dWaWV3ZXIpXG4gICAgICAgIC50aGVuKHNob3dOaWNvbEJ1dHRvbilcbn1cblxuZnVuY3Rpb24gbG9hZEltYWdlRnJvbVNyYyhzcmMpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG5cbiAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKClcblxuICAgICAgICBpbWcub25sb2FkID0gXyA9PiB7XG4gICAgICAgICAgICByZXMoaW1nKVxuICAgICAgICB9XG5cbiAgICAgICAgaW1nLnNyYyA9IHNyY1xuXG4gICAgfSlcbn1cblxuZnVuY3Rpb24gb3BlbkltYWdlc1NlbGVjdEhhbmRsZXIoc3RhdGUpIHtcbiAgICByZXR1cm4gZSA9PiBuZXcgUHJvbWlzZShhc3luYyAocmVzLCByZWopID0+IHtcbiAgICAgICAgc3RhdGUub3Blbl9pbWFnZV9zcmNzID0gYXdhaXQgZmlsZVNlbGVjdEhhbmRlcihlKVxuICAgICAgICBzdGF0ZS5sb2FkSW1hZ2VzWzBdID0gdHJ1ZVxuICAgICAgICBzdGF0ZS5vcGVuX2ltYWdlcyA9IGF3YWl0IFByb21pc2UuYWxsKHN0YXRlLm9wZW5faW1hZ2Vfc3Jjcy5tYXAobG9hZEltYWdlRnJvbVNyYykpXG4gICAgICAgIGF3YWl0IHNob3dJbWFnZXMoc3RhdGUpXG5cbiAgICAgICAgcmVzKHN0YXRlKVxuICAgIH0pXG59XG5cbmZ1bmN0aW9uIGNyb3NzSW1hZ2VzU2VsZWN0SGFuZGxlcihzdGF0ZSkge1xuICAgIHJldHVybiBlID0+IG5ldyBQcm9taXNlKGFzeW5jIChyZXMsIHJlaikgPT4ge1xuICAgICAgICBzdGF0ZS5jcm9zc19pbWFnZV9zcmNzID0gYXdhaXQgZmlsZVNlbGVjdEhhbmRlcihlKVxuICAgICAgICBzdGF0ZS5sb2FkSW1hZ2VzWzFdID0gdHJ1ZVxuICAgICAgICBzdGF0ZS5jcm9zc19pbWFnZXMgPSBhd2FpdCBQcm9taXNlLmFsbChzdGF0ZS5jcm9zc19pbWFnZV9zcmNzLm1hcChsb2FkSW1hZ2VGcm9tU3JjKSlcbiAgICAgICAgYXdhaXQgc2hvd0ltYWdlcyhzdGF0ZSlcblxuICAgICAgICByZXMoc3RhdGUpXG4gICAgfSlcbn1cblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlVmlldyhzdGF0ZSkge1xuICAgIGNsZWFyVmlldyhzdGF0ZSlcbiAgICBibG9iVG9DYW52YXMoc3RhdGUpXG4gICAgZHJhd0hhaXJMaW5lKHN0YXRlKVxuICAgIGRyYXdTY2FsZShzdGF0ZSlcbiAgICByZXR1cm4gc3RhdGVcbn1cblxuXG5mdW5jdGlvbiBhY3RpdmF0ZURvbShzZWxlY3Rvcikge1xuICAgIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpXG4gICAgICAgIC5mb3JFYWNoKGRvbSA9PiB7XG4gICAgICAgICAgICBkb20uY2xhc3NMaXN0LnJlbW92ZShcImluYWN0aXZlXCIpXG4gICAgICAgIH0pXG59XG5cblxuZnVuY3Rpb24gYmFzZTY0VG9CbG9iKGJhc2U2NCwgbWltZSkge1xuICAgIHZhciBiaW5hcnkgPSBhdG9iKGJhc2U2NCk7XG4gICAgdmFyIGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KGJpbmFyeS5sZW5ndGgpXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiaW5hcnkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYnVmZmVyW2ldID0gYmluYXJ5LmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQmxvYihbYnVmZmVyLmJ1ZmZlcl0sIHtcbiAgICAgICAgdHlwZTogbWltZVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBjb21wcmVzc0ltYWdlU3JjKHNyYywgZm9ybWF0LCBkZXNpcmVkS0J5dGUgPSAxNTApIHtcbiAgICBjb25zb2xlLmFzc2VydChbXCJqcGVnXCIsIFwid2VicFwiXS5pbmNsdWRlcyhmb3JtYXQpKVxuXG4gICAgY29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2UoKVxuICAgIGltYWdlLnNyYyA9IHNyY1xuICAgIGNvbnN0IHcgPSBpbWFnZS53aWR0aFxuICAgIGNvbnN0IGggPSBpbWFnZS5oZWlnaHRcbiAgICBjb25zdCBjdnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3dvcmtpbmdfY2FudmFzXCIpXG4gICAgY3ZzLndpZHRoID0gd1xuICAgIGN2cy5oZWlnaHQgPSBoXG4gICAgY29uc3QgY3R4ID0gY3ZzLmdldENvbnRleHQoXCIyZFwiKVxuICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIHcsIGgpXG5cbiAgICBjb25zdCBvcmlnaW5hbEJpbmFyeSA9IGN2cy50b0RhdGFVUkwoYGltYWdlLyR7Zm9ybWF0fWApOyAvL+eUu+izquiQveOBqOOBleOBmuODkOOCpOODiuODquWMllxuICAgIGNvbnN0IG1pbWUgPSBvcmlnaW5hbEJpbmFyeS5tYXRjaCgvKDopKFthLXpcXC9dKykoOykvKVsyXVxuXG4gICAgY29uc3Qgb3JpZ2luYWxCbG9iID0gYmFzZTY0VG9CbG9iKG9yaWdpbmFsQmluYXJ5LnNwbGl0KFwiLFwiKVsxXSwgbWltZSk7XG5cbiAgICBpZiAoZGVzaXJlZEtCeXRlICogMWUzIDwgb3JpZ2luYWxCbG9iW1wic2l6ZVwiXSkge1xuICAgICAgICBjb25zdCBjYXBhY2l0eVJhdGlvID0gZGVzaXJlZEtCeXRlICogMWUzIC8gb3JpZ2luYWxCbG9iW1wic2l6ZVwiXTtcbiAgICAgICAgY29uc3QgcHJvY2Vzc2luZ0JpbmFyeSA9IGN2cy50b0RhdGFVUkwoYGltYWdlLyR7Zm9ybWF0fWAsIGNhcGFjaXR5UmF0aW8pOyAvL+eUu+izquiQveOBqOOBl+OBpuODkOOCpOODiuODquWMllxuICAgICAgICByZXR1cm4gYmFzZTY0VG9CbG9iKHByb2Nlc3NpbmdCaW5hcnkuc3BsaXQoXCIsXCIpWzFdLCBtaW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gb3JpZ2luYWxCbG9iXG4gICAgfVxufVxuXG5mdW5jdGlvbiBzaG93RXJyb3JNZXNzYWdlKGRvbUlkLCBtZXNzYWdlKSB7XG4gICAgY29uc3QgbWVzc2FnZURvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZG9tSWQpXG4gICAgbWVzc2FnZURvbS5pbm5lckhUTUwgPSBtZXNzYWdlXG4gICAgbWVzc2FnZURvbS5jbGFzc0xpc3QucmVtb3ZlKFwiaW5hY3RpdmVcIilcbn1cblxuZnVuY3Rpb24gaGlkZUVycm9yTWVzc2FnZShkb21JZCkge1xuICAgIGNvbnN0IG1lc3NhZ2VEb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRvbUlkKVxuICAgIG1lc3NhZ2VEb20uY2xhc3NMaXN0LmFkZChcImluYWN0aXZlXCIpXG59XG5cblxuZnVuY3Rpb24gc2VuZFNhbXBsZUxpc3RFbnRyeShqc29uX29iaikge1xuICAgIGlmIChqc29uX29ialtcInBhY2thZ2UtbmFtZVwiXS5tYXRjaChuZXcgUmVnRXhwKFwiXlswLTlhLXpBLVpfLV0rJFwiKSkgPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGFja2FnZSBJRCBzaG91bGQgY29udGFpbiBvbmx5IG51bWJlciwgYWxwaGFiZXQsIF8sIGFuZCAtLlwiKVxuICAgIH1cbiAgICBpZiAoT2JqZWN0LmtleXMoanNvbl9vYmpbXCJsaXN0LW5hbWVcIl0pLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTYW1wbGUgdGl0bGUgaXMgbm90IHNldC5cIilcbiAgICB9XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkZXZfc2FtcGxlX2xpc3RfZW50cnlcIikuaW5uZXJIVE1MID0gSlNPTi5zdHJpbmdpZnkoanNvbl9vYmosIG51bGwsIDIpXG59O1xuXG5mdW5jdGlvbiBpbml0aWFsaXplT3JVcGRhdGVJbnB1dChpbnB1dERvbSwgdmFsdWUpIHtcbiAgICBpZiAoIWlucHV0RG9tLnZhbHVlKSB7XG4gICAgICAgIGlucHV0RG9tLnZhbHVlID0gdmFsdWVcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNob3dQYWNrYWdlU2l6ZShzdGF0ZSkge1xuICAgIC8vIFN1bSBvcGVuIGFuZCBjcm9zcyBpbWFnZXMgKGNvbnRhaW5zIHRodW1ibmFpbClcbiAgICBjb25zdCBpbWFnZXNTaXplID0gKHN0YXRlLm9wZW5faW1hZ2Vfc3Jjcy5sZW5ndGggKiBzdGF0ZS5kZXNpcmVkSW1hZ2VTaXplICsgc3RhdGUuZGVzaXJlZFRodW1ibmFpbEltYWdlU2l6ZSkgKiAyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtZXNzYWdlX3BhY2thZ2Vfc2l6ZVwiKS5pbm5lckhUTUwgPSBpbWFnZXNTaXplXG59XG5cbihmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2lucHV0X3BhY2thZ2VfaWRcIikuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJjaGFuZ2VcIixcbiAgICAgICAgZSA9PiB7XG4gICAgICAgICAgICBwYWNrYWdlTWFwLnNldFBhY2thZ2VJRChlLnRhcmdldC52YWx1ZSlcbiAgICAgICAgfSxcbiAgICAgICAgZmFsc2VcbiAgICApXG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2lucHV0X2Rlc2lyZWRfaW1hZ2Vfc2l6ZVwiKS5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcImNoYW5nZVwiLFxuICAgICAgICBlID0+IHtcbiAgICAgICAgICAgIHN0YXRlLmRlc2lyZWRJbWFnZVNpemUgPSBwYXJzZUZsb2F0KGUudGFyZ2V0LnZhbHVlKVxuICAgICAgICAgICAgc2hvd1BhY2thZ2VTaXplKHN0YXRlKVxuICAgICAgICB9LFxuICAgICAgICBmYWxzZVxuICAgIClcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXRfZGVzaXJlZF90aHVtYm5haWxfaW1hZ2Vfc2l6ZVwiKS5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcImNoYW5nZVwiLFxuICAgICAgICBlID0+IHtcbiAgICAgICAgICAgIHN0YXRlLmRlc2lyZWRUaHVtYm5haWxJbWFnZVNpemUgPSBwYXJzZUZsb2F0KGUudGFyZ2V0LnZhbHVlKVxuICAgICAgICAgICAgc2hvd1BhY2thZ2VTaXplKHN0YXRlKVxuICAgICAgICB9LFxuICAgICAgICBmYWxzZVxuICAgIClcblxuICAgIGNvbnN0IGNlbnRlclRvUmlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3JvdGF0ZV9jZW50ZXJfZnJvbV9sZWZ0XCIpXG4gICAgY2VudGVyVG9SaWdodC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcImNoYW5nZVwiLFxuICAgICAgICBlID0+IHtcbiAgICAgICAgICAgIHN0YXRlLnJvdGF0ZV9jZW50ZXIudG9fcmlnaHQgPSBwYXJzZUZsb2F0KGNlbnRlclRvUmlnaHQudmFsdWUpXG4gICAgICAgICAgICB1cGRhdGVWaWV3KHN0YXRlKVxuICAgICAgICB9LFxuICAgICAgICBmYWxzZVxuICAgIClcbiAgICBjb25zdCBjZW50ZXJUb0JvdHRvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcm90YXRlX2NlbnRlcl9mcm9tX3RvcFwiKVxuICAgIGNlbnRlclRvQm90dG9tLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwiY2hhbmdlXCIsXG4gICAgICAgIGUgPT4ge1xuICAgICAgICAgICAgc3RhdGUucm90YXRlX2NlbnRlci50b19ib3R0b20gPSBwYXJzZUZsb2F0KGNlbnRlclRvQm90dG9tLnZhbHVlKVxuICAgICAgICAgICAgdXBkYXRlVmlldyhzdGF0ZSlcbiAgICAgICAgfSxcbiAgICAgICAgZmFsc2VcbiAgICApXG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI29wZW5fbmljb2xfaW1hZ2VzXCIpLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwiY2hhbmdlXCIsXG4gICAgICAgIGUgPT4ge1xuICAgICAgICAgICAgb3BlbkltYWdlc1NlbGVjdEhhbmRsZXIoc3RhdGUpKGUpLnRoZW4oc3RhdGUgPT4ge1xuICAgICAgICAgICAgICAgIGluaXRpYWxpemVPclVwZGF0ZUlucHV0KGNlbnRlclRvUmlnaHQsIHN0YXRlLm9wZW5faW1hZ2VzWzBdLndpZHRoIC8gMilcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplT3JVcGRhdGVJbnB1dChjZW50ZXJUb0JvdHRvbSwgc3RhdGUub3Blbl9pbWFnZXNbMF0uaGVpZ2h0IC8gMilcbiAgICAgICAgICAgICAgICBzaG93UGFja2FnZVNpemUoc3RhdGUpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBmYWxzZVxuICAgIClcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY3Jvc3Nfbmljb2xfaW1hZ2VzXCIpLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwiY2hhbmdlXCIsXG4gICAgICAgIGUgPT4ge1xuICAgICAgICAgICAgY3Jvc3NJbWFnZXNTZWxlY3RIYW5kbGVyKHN0YXRlKShlKS50aGVuKHN0YXRlID0+IHtcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplT3JVcGRhdGVJbnB1dChjZW50ZXJUb1JpZ2h0LCBzdGF0ZS5jcm9zc19pbWFnZXNbMF0ud2lkdGggLyAyKVxuICAgICAgICAgICAgICAgIGluaXRpYWxpemVPclVwZGF0ZUlucHV0KGNlbnRlclRvQm90dG9tLCBzdGF0ZS5jcm9zc19pbWFnZXNbMF0uaGVpZ2h0IC8gMilcbiAgICAgICAgICAgICAgICBzaG93UGFja2FnZVNpemUoc3RhdGUpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBmYWxzZVxuICAgIClcblxuICAgIGNvbnN0IHJvdGF0ZURpcmVjdGlvblNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzZWxlY3Rfcm90YXRlX2RpcmVjdGlvblwiKVxuICAgIHJvdGF0ZURpcmVjdGlvblNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwiY2hhbmdlXCIsXG4gICAgICAgIGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gZS50YXJnZXQub3B0aW9uc1tlLnRhcmdldC5zZWxlY3RlZEluZGV4XS52YWx1ZVxuICAgICAgICAgICAgcGFja2FnZU1hcC5zZXRSb3RhdGVEaXJlY3Rpb24oZGlyZWN0aW9uKVxuICAgICAgICB9LFxuICAgICAgICBmYWxzZVxuICAgIClcblxuICAgIGNvbnN0IGlucHV0Um90YXRpb25JbnRlcnZhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXRfcm90YXRpb25faW50ZXJ2YWxcIilcbiAgICBpbnB1dFJvdGF0aW9uSW50ZXJ2YWwuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJjaGFuZ2VcIixcbiAgICAgICAgZSA9PiB7XG4gICAgICAgICAgICBwYWNrYWdlTWFwLnNldEVhY2hSb3RhdGVEZWdyZWUoaW5wdXRSb3RhdGlvbkludGVydmFsLnZhbHVlKVxuICAgICAgICAgICAgYWN0aXZhdGVEb20oXCIjc2VsZWN0X2ltYWdlX3dyYXBwZXJcIilcbiAgICAgICAgfSxcbiAgICAgICAgZmFsc2VcbiAgICApXG5cbiAgICBjb25zdCBpbnB1dFNjYWxlVW5pdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXRfc2NhbGVfdW5pdFwiKVxuICAgIGlucHV0U2NhbGVVbml0LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwiY2hhbmdlXCIsXG4gICAgICAgIGUgPT4ge1xuICAgICAgICAgICAgcGFja2FnZU1hcC5zZXRTY2FsZVVuaXQoaW5wdXRTY2FsZVVuaXQudmFsdWUpXG4gICAgICAgIH0sXG4gICAgICAgIGZhbHNlXG4gICAgKVxuXG4gICAgY29uc3QgaW5wdXRTY2FsZUxlbmd0aCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXRfc2NhbGVfbGVuZ3RoXCIpXG4gICAgaW5wdXRTY2FsZUxlbmd0aC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcImNoYW5nZVwiLFxuICAgICAgICBlID0+IHtcbiAgICAgICAgICAgIHBhY2thZ2VNYXAuc2V0U2NhbGVQaXhlbChpbnB1dFNjYWxlTGVuZ3RoLnZhbHVlKVxuICAgICAgICB9LFxuICAgICAgICBmYWxzZVxuICAgIClcblxuICAgIGNvbnN0IGlucHV0TWFnbmlmaWNhdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXRfbWFnbmlmaWNhdGlvblwiKVxuICAgIGlucHV0TWFnbmlmaWNhdGlvbi5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcImNoYW5nZVwiLFxuICAgICAgICBlID0+IHtcbiAgICAgICAgICAgIHBhY2thZ2VNYXAuc2V0TWFnbmlmeShlLnRhcmdldC52YWx1ZSlcbiAgICAgICAgfSxcbiAgICAgICAgZmFsc2VcbiAgICApXG5cbiAgICBjb25zdCBpbnB1dFNhbXBsZUxhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbnB1dF9zYW1wbGVfbGFiZWxcIilcbiAgICBpbnB1dFNhbXBsZUxhYmVsLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwiY2hhbmdlXCIsXG4gICAgICAgIGUgPT4ge1xuICAgICAgICAgICAgcGFja2FnZU1hcC5zZXRTYW1wbGVMYWJlbChlLnRhcmdldC52YWx1ZSlcbiAgICAgICAgfSxcbiAgICAgICAgZmFsc2VcbiAgICApXG5cbiAgICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaW5wdXRfc2FtcGxlX2xvY2F0aW9uXCIpKS5mb3JFYWNoKGRvbSA9PiB7XG4gICAgICAgIGRvbS5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgXCJjaGFuZ2VcIixcbiAgICAgICAgICAgIGUgPT4ge1xuICAgICAgICAgICAgICAgIHBhY2thZ2VNYXAuc2V0U2FtcGxlTG9jYXRpb24oZS50YXJnZXQuZGF0YXNldC5sYW5nLCBlLnRhcmdldC52YWx1ZSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmYWxzZVxuICAgICAgICApXG4gICAgfSlcblxuICAgIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5pbnB1dF9zYW1wbGVfdHlwZVwiKSkuZm9yRWFjaChkb20gPT4ge1xuICAgICAgICBkb20uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIFwiY2hhbmdlXCIsXG4gICAgICAgICAgICBlID0+IHtcbiAgICAgICAgICAgICAgICBwYWNrYWdlTWFwLnNldFJvY2tUeXBlKGUudGFyZ2V0LmRhdGFzZXQubGFuZywgZS50YXJnZXQudmFsdWUpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgKVxuICAgIH0pXG5cbiAgICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaW5wdXRfZGVzY3JpcHRpb25cIikpLmZvckVhY2goZG9tID0+IHtcbiAgICAgICAgZG9tLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICBcImNoYW5nZVwiLFxuICAgICAgICAgICAgZSA9PiB7XG4gICAgICAgICAgICAgICAgcGFja2FnZU1hcC5zZXREZXNjcmlwdGlvbihlLnRhcmdldC5kYXRhc2V0LmxhbmcsIGUudGFyZ2V0LnZhbHVlKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZhbHNlXG4gICAgICAgIClcbiAgICB9KVxuXG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmlucHV0X3NhbXBsZV90aXRsZVwiKSlcbiAgICAgICAgLmZvckVhY2goZG9tID0+IHtcbiAgICAgICAgICAgIGRvbS5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgIFwiY2hhbmdlXCIsXG4gICAgICAgICAgICAgICAgZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHBhY2thZ2VNYXAuc2V0TGlzdE5hbWUoZS50YXJnZXQuZGF0YXNldC5sYW5nLCBlLnRhcmdldC52YWx1ZSlcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIClcbiAgICAgICAgfSlcblxuICAgIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5pbnB1dF9vd25lclwiKSkuZm9yRWFjaChkb20gPT4ge1xuICAgICAgICBkb20uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIFwiY2hhbmdlXCIsXG4gICAgICAgICAgICBlID0+IHtcbiAgICAgICAgICAgICAgICBwYWNrYWdlTWFwLnNldE93bmVyKGUudGFyZ2V0LmRhdGFzZXQubGFuZywgZS50YXJnZXQudmFsdWUpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgKVxuICAgIH0pXG5cbiAgICBjb25zdCB0b2dnbGVOaWNvbEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2hhbmdlX25pY29sXCIpXG4gICAgY29uc3QgdG9nZ2xlTmljb2xMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2hhbmdlX25pY29sICsgbGFiZWxcIilcblxuICAgIGNvbnN0IHRvZ2dsZU5pY29sSGFuZGxlciA9IHN0YXRlID0+IG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xuXG4gICAgICAgIHRvZ2dsZU5pY29sQnV0dG9uLmNoZWNrZWQgPSBzdGF0ZS5pc0Nyb3NzTmljb2xcbiAgICAgICAgc3RhdGUuaXNDcm9zc05pY29sID0gIXN0YXRlLmlzQ3Jvc3NOaWNvbDtcblxuICAgICAgICByZXMoc3RhdGUpXG4gICAgfSlcblxuICAgIHRvZ2dsZU5pY29sQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwiY2xpY2tcIixcbiAgICAgICAgZSA9PiB7IGUucHJldmVudERlZmF1bHQoKSB9LFxuICAgICAgICBmYWxzZVxuICAgIClcblxuXG4gICAgdG9nZ2xlTmljb2xMYWJlbC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcInRvdWNoXCIsXG4gICAgICAgIGUgPT4geyBlLnByZXZlbnREZWZhdWx0KCkgfSxcbiAgICAgICAgZmFsc2VcbiAgICApXG5cbiAgICB0b2dnbGVOaWNvbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcInRvdWNoXCIsXG4gICAgICAgIGUgPT4geyBlLnByZXZlbnREZWZhdWx0KCkgfSxcbiAgICAgICAgZmFsc2VcbiAgICApXG5cblxuICAgIHRvZ2dsZU5pY29sTGFiZWwuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJtb3VzZXVwXCIsXG4gICAgICAgIGUgPT4gdG9nZ2xlTmljb2xIYW5kbGVyKHN0YXRlKVxuICAgICAgICAgICAgLnRoZW4odXBkYXRlVmlldyksXG4gICAgICAgIGZhbHNlXG4gICAgKVxuXG4gICAgdG9nZ2xlTmljb2xMYWJlbC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcInRvdWNoZW5kXCIsXG4gICAgICAgIGUgPT4gdG9nZ2xlTmljb2xIYW5kbGVyKHN0YXRlKVxuICAgICAgICAgICAgLnRoZW4odXBkYXRlVmlldylcbiAgICAgICAgICAgIC50aGVuKF8gPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlLmNhbmNlbGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLFxuICAgICAgICBmYWxzZVxuICAgIClcblxuICAgIHZpZXdlci5vbmNvbnRleHRtZW51ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgY29uc3QgcG9zaXRpb25fb25fY2FudmFzID0gY2FudmFzQ29vcmRpbmF0ZShlKVxuICAgICAgICBjb25zdCBjdXJyZW50X3JvdGF0ZV9jZW50ZXIgPSBPYmplY3QudmFsdWVzKHN0YXRlLnJvdGF0ZV9jZW50ZXIpXG4gICAgICAgIGNvbnN0IHNoaWZ0ID0gW1xuICAgICAgICAgICAgcG9zaXRpb25fb25fY2FudmFzWzBdIC0gc3RhdGUuY2FudmFzV2lkdGggKiAwLjUsXG4gICAgICAgICAgICBwb3NpdGlvbl9vbl9jYW52YXNbMV0gLSBzdGF0ZS5jYW52YXNIZWlnaHQgKiAwLjVcbiAgICAgICAgXVxuXG4gICAgICAgIHN0YXRlLnJvdGF0ZV9jZW50ZXIudG9fcmlnaHQgKz0gcGFyc2VJbnQoc2hpZnRbMF0gKiBzdGF0ZS5pbWFnZVJhZGl1cyAvIHN0YXRlLmNhbnZhc1dpZHRoICogMilcbiAgICAgICAgc3RhdGUucm90YXRlX2NlbnRlci50b19ib3R0b20gKz0gcGFyc2VJbnQoc2hpZnRbMV0gKiBzdGF0ZS5pbWFnZVJhZGl1cyAvIHN0YXRlLmNhbnZhc1dpZHRoICogMilcblxuICAgICAgICBwYWNrYWdlTWFwLnNldFJvdGF0ZUNlbnRlcihcbiAgICAgICAgICAgIHN0YXRlLnJvdGF0ZV9jZW50ZXIudG9fcmlnaHQsXG4gICAgICAgICAgICBzdGF0ZS5yb3RhdGVfY2VudGVyLnRvX2JvdHRvbVxuICAgICAgICApXG5cbiAgICAgICAgY2VudGVyVG9SaWdodC52YWx1ZSA9IHN0YXRlLnJvdGF0ZV9jZW50ZXIudG9fcmlnaHRcbiAgICAgICAgY2VudGVyVG9Cb3R0b20udmFsdWUgPSBzdGF0ZS5yb3RhdGVfY2VudGVyLnRvX2JvdHRvbVxuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICB1cGRhdGVWaWV3KHN0YXRlKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmlld2VyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwibW91c2Vkb3duXCIsXG4gICAgICAgIHRvdWNoU3RhcnRIYW5kbGVyKHN0YXRlKSxcbiAgICAgICAgZmFsc2VcbiAgICApXG5cbiAgICB2aWV3ZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJkcmFnc3RhcnRcIixcbiAgICAgICAgZSA9PiB7IGUucHJldmVudERlZmF1bHQoKSB9LFxuICAgICAgICBmYWxzZVxuICAgIClcblxuICAgIHZpZXdlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcImRyYWdcIixcbiAgICAgICAgZSA9PiB7IGUucHJldmVudERlZmF1bHQoKSB9LFxuICAgICAgICBmYWxzZVxuICAgIClcblxuICAgIHZpZXdlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcImRyYWdlbmRcIixcbiAgICAgICAgZSA9PiB7IGUucHJldmVudERlZmF1bHQoKSB9LFxuICAgICAgICBmYWxzZVxuICAgIClcblxuICAgIHZpZXdlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcInRvdWNoc3RhcnRcIixcbiAgICAgICAgdG91Y2hTdGFydEhhbmRsZXIoc3RhdGUpLFxuICAgICAgICBmYWxzZVxuICAgIClcblxuICAgIHZpZXdlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcIm1vdXNlbW92ZVwiLFxuICAgICAgICB0b3VjaE1vdmVIYW5kbGVyKHN0YXRlKSxcbiAgICAgICAgZmFsc2VcbiAgICApXG5cbiAgICB2aWV3ZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJ0b3VjaG1vdmVcIixcbiAgICAgICAgdG91Y2hNb3ZlSGFuZGxlcihzdGF0ZSksXG4gICAgICAgIGZhbHNlXG4gICAgKVxuXG4gICAgdmlld2VyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwibW91c2V1cFwiLFxuICAgICAgICB0b3VjaEVuZEhhbmRsZXIoc3RhdGUpLFxuICAgICAgICBmYWxzZVxuICAgIClcblxuICAgIHZpZXdlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcInRvdWNoZW5kXCIsXG4gICAgICAgIHRvdWNoRW5kSGFuZGxlcihzdGF0ZSksXG4gICAgICAgIGZhbHNlXG4gICAgKVxuXG4gICAgdmlld2VyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwid2hlZWxcIixcbiAgICAgICAgd2hlZWxIYW5kbGVyKHN0YXRlKSxcbiAgICAgICAgZmFsc2VcbiAgICApXG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NyZWF0ZV9wYWNrYWdlX2J1dHRvblwiKS5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcImNsaWNrXCIsXG4gICAgICAgIGUgPT4ge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICBhc3luYyBmdW5jdGlvbiBtYWtlWmlwKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RFbnRyeSA9IHBhY2thZ2VNYXAuZ2V0U2FtcGxlTGlzdEVudHJ5KClcbiAgICAgICAgICAgICAgICBzZW5kU2FtcGxlTGlzdEVudHJ5KGxpc3RFbnRyeSlcblxuICAgICAgICAgICAgICAgIGNvbnN0IHppcCA9IG5ldyBKU1ppcCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGpwZ1ppcCA9IG5ldyBKU1ppcCgpXG4gICAgICAgICAgICAgICAgY29uc3Qgd2VicFppcCA9IG5ldyBKU1ppcCgpXG5cbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUub3Blbl9pbWFnZV9zcmNzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBvcGVuIE5pY29sIGltYWdlcyBhcmUgc2VsZWN0ZWQuXCIpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5jcm9zc19pbWFnZV9zcmNzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBjcm9zc2VkIE5pY29sIGltYWdlcyBhcmUgc2VsZWN0ZWQuXCIpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gVGh1bWJuYWlsc1xuICAgICAgICAgICAgICAgIHppcC5maWxlKFwibzEuanBnXCIsIGNvbXByZXNzSW1hZ2VTcmMoc3RhdGUub3Blbl9pbWFnZV9zcmNzWzBdLCBcImpwZWdcIiwgc3RhdGUuZGVzaXJlZFRodW1ibmFpbEltYWdlU2l6ZSkpXG4gICAgICAgICAgICAgICAgemlwLmZpbGUoXCJjMS5qcGdcIiwgY29tcHJlc3NJbWFnZVNyYyhzdGF0ZS5jcm9zc19pbWFnZV9zcmNzWzBdLCBcImpwZWdcIiwgc3RhdGUuZGVzaXJlZFRodW1ibmFpbEltYWdlU2l6ZSkpXG5cbiAgICAgICAgICAgICAgICAvLyBJbWFnZSBzZXRzXG4gICAgICAgICAgICAgICAgcGFja2FnZU1hcC5zZXRJbWFnZUZvcm1hdHMoW1wid2VicFwiLCBcImpwZ1wiXSlcbiAgICAgICAgICAgICAgICBzdGF0ZS5vcGVuX2ltYWdlX3NyY3MuZm9yRWFjaCgoc3JjLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHdlYnBaaXAuZmlsZShgbyR7aSArIDF9LndlYnBgLCBjb21wcmVzc0ltYWdlU3JjKHNyYywgXCJ3ZWJwXCIsIHN0YXRlLmRlc2lyZWRJbWFnZVNpemUpKVxuICAgICAgICAgICAgICAgICAgICBqcGdaaXAuZmlsZShgbyR7aSArIDF9LmpwZ2AsIGNvbXByZXNzSW1hZ2VTcmMoc3JjLCBcImpwZWdcIiwgc3RhdGUuZGVzaXJlZEltYWdlU2l6ZSkpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBzdGF0ZS5jcm9zc19pbWFnZV9zcmNzLmZvckVhY2goKHNyYywgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB3ZWJwWmlwLmZpbGUoYGMke2kgKyAxfS53ZWJwYCwgY29tcHJlc3NJbWFnZVNyYyhzcmMsIFwid2VicFwiLCBzdGF0ZS5kZXNpcmVkSW1hZ2VTaXplKSlcbiAgICAgICAgICAgICAgICAgICAganBnWmlwLmZpbGUoYGMke2kgKyAxfS5qcGdgLCBjb21wcmVzc0ltYWdlU3JjKHNyYywgXCJqcGVnXCIsIHN0YXRlLmRlc2lyZWRJbWFnZVNpemUpKVxuICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICBjb25zdCBtZXRhID0gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KHBhY2thZ2VNYXAudG9KU09OKCksIG51bGwsIDIpXSwgeyBcInR5cGVcIjogXCJ0ZXh0L2pzb25cIiB9KTtcbiAgICAgICAgICAgICAgICB6aXAuZmlsZShcIm1hbmlmZXN0Lmpzb25cIiwgbWV0YSlcbiAgICAgICAgICAgICAgICB6aXAuZmlsZShcIndlYnAuemlwXCIsIGF3YWl0IHdlYnBaaXAuZ2VuZXJhdGVBc3luYyh7IHR5cGU6IFwiYmxvYlwiIH0pKVxuICAgICAgICAgICAgICAgIHppcC5maWxlKFwianBnLnppcFwiLCBhd2FpdCBqcGdaaXAuZ2VuZXJhdGVBc3luYyh7IHR5cGU6IFwiYmxvYlwiIH0pKVxuICAgICAgICAgICAgICAgIGNvbnN0IHppcENvbnRlbnQgPSBhd2FpdCB6aXAuZ2VuZXJhdGVBc3luYyh7IHR5cGU6IFwiYmxvYlwiIH0pXG5cbiAgICAgICAgICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN3b3JraW5nX2FuY2hvclwiKVxuICAgICAgICAgICAgICAgIGEuZG93bmxvYWQgPSBgJHtwYWNrYWdlTWFwLmdldFBhY2thZ2VJRCgpfS56aXBgXG4gICAgICAgICAgICAgICAgYS5ocmVmID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoemlwQ29udGVudClcbiAgICAgICAgICAgICAgICBhLmNsaWNrKClcblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWFrZVppcCgpXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBoaWRlRXJyb3JNZXNzYWdlKFwiI2Vycm9yX21ha2VfcGFja2FnZVwiKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzaG93RXJyb3JNZXNzYWdlKFwiI2Vycm9yX21ha2VfcGFja2FnZVwiLCBlKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIGZhbHNlXG4gICAgKVxuXG4gICAgdXBkYXRlVmlld2VyR2VvbWV0cnkoc3RhdGUpXG59KSh1cGxvYWRfc3RhdGUpXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/index_make_package.js\n");

/***/ }),

/***/ "./src/js/local_storage/DummyLocalStorage.js":
/*!***************************************************!*\
  !*** ./src/js/local_storage/DummyLocalStorage.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DummyLocalStorage; });\nclass DummyLocalStorage {\n    constructor() {\n        this.db = {}\n    }\n\n    put(key, value) {\n        this.db[key] = value;\n    }\n\n    get(key) {\n        return (this.db.hasOwnProperty(\"key\"))\n            ? this.db[key]\n            : undefined\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvbG9jYWxfc3RvcmFnZS9EdW1teUxvY2FsU3RvcmFnZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9sb2NhbF9zdG9yYWdlL0R1bW15TG9jYWxTdG9yYWdlLmpzP2Q2NzQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHVtbXlMb2NhbFN0b3JhZ2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmRiID0ge31cbiAgICB9XG5cbiAgICBwdXQoa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLmRiW2tleV0gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQoa2V5KSB7XG4gICAgICAgIHJldHVybiAodGhpcy5kYi5oYXNPd25Qcm9wZXJ0eShcImtleVwiKSlcbiAgICAgICAgICAgID8gdGhpcy5kYltrZXldXG4gICAgICAgICAgICA6IHVuZGVmaW5lZFxuICAgIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/local_storage/DummyLocalStorage.js\n");

/***/ }),

/***/ "./src/js/local_storage/NativeLocalStorage.js":
/*!****************************************************!*\
  !*** ./src/js/local_storage/NativeLocalStorage.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return NativeLocalStorage; });\nclass NativeLocalStorage {\n    constructor() {\n        this.db = window.localStorage\n    }\n\n    put(key, value) {\n        this.db.setItem(key, value);\n    }\n\n    get(key) {\n        const value = this.db.getItem(key)\n        return (value == null)\n            ? undefined\n            : value\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvbG9jYWxfc3RvcmFnZS9OYXRpdmVMb2NhbFN0b3JhZ2UuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvbG9jYWxfc3RvcmFnZS9OYXRpdmVMb2NhbFN0b3JhZ2UuanM/YTlmYSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBOYXRpdmVMb2NhbFN0b3JhZ2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmRiID0gd2luZG93LmxvY2FsU3RvcmFnZVxuICAgIH1cblxuICAgIHB1dChrZXksIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGIuc2V0SXRlbShrZXksIHZhbHVlKTtcbiAgICB9XG5cbiAgICBnZXQoa2V5KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5kYi5nZXRJdGVtKGtleSlcbiAgICAgICAgcmV0dXJuICh2YWx1ZSA9PSBudWxsKVxuICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgIDogdmFsdWVcbiAgICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/local_storage/NativeLocalStorage.js\n");

/***/ }),

/***/ "./src/js/package_manifest.js":
/*!************************************!*\
  !*** ./src/js/package_manifest.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PackageManifest; });\nclass PackageManifest {\n    constructor() {\n        this.packageID = null\n        this.listName = {}\n        this.location = {}\n        this.owner = {}\n        this.rockType = {}\n        this.description = {}\n        this.geoSystem = \"\"\n        this.geoPosition = [null, null]\n        this.rotateCenter = [undefined, undefined]\n        this.rotateDirection = \"clockwise\"\n        this.imageSize = { \"width\": 0, \"height\": 0 }\n    }\n\n    toJSON() {\n        return {\n            \"package-id\": this.getPackageID(),\n            \"list-name\": this.getListName(),\n            \"image_width\": this.getImageWidth(),\n            \"image_height\": this.getImageHeight(),\n            \"rotate_center\": this.getRotateCenter(),\n            \"cycle_rotate_degree\": this.getRotateSectionDegree(),\n            \"rotate_clockwise\": this.isRotateClockwise(),\n            \"rotate_by_degree\": this.getEachRotateDegree(),\n            \"location\": this.getSampleLocation(),\n            \"owner\": this.getOwner(),\n            \"rock_type\": this.getRockType(),\n            \"description\": this.getDescription(),\n            \"scale-unit\": this.getScaleUnit(),\n            \"scale-pixel\": this.getScalePixel(),\n            \"magnify\": this.getMagnify(),\n            \"sample_label\": this.getSampleLabel(),\n            \"geographic-coordinate\": this.getGeoLocation(),\n            \"image_formats\": this.getImageFormats()\n        }\n    }\n\n    getSampleListEntry() {\n        return {\n            \"package-name\": this.getPackageID(),\n            \"list-name\": this.getListName()\n        }\n    }\n\n    setPackageID(id) {\n        this.packageID = id\n        return this\n    }\n\n    getPackageID() {\n        return this.packageID || \"\"\n    }\n\n    setListName(lang, s) {\n        this.listName[lang] = s;\n        return this;\n    }\n\n    getListName() {\n        return this.listName;\n    }\n\n    setSampleLocation(lang, desc) {\n        this.location[lang] = desc;\n        return this\n    }\n\n    getSampleLocation() {\n        return this.location;\n    }\n\n    setLocation(system, v1, v2) {\n        this.geoSystem = system,\n            this.geoPosition = [v1, v2]\n        return this\n    }\n\n    getGeoLocation() {\n        return {\n            \"system\": this.geoSystem,\n            \"position\": {\n                \"latitude\": this.geoPosition[0],\n                \"longitude\": this.geoPosition[1]\n            }\n        }\n    }\n\n    setMagnify(magnificationValue) {\n        this.magnify = magnificationValue\n        return this\n    }\n\n    getMagnify() {\n        return this.magnify\n    }\n\n    setScaleUnit(scaleUnit) {\n        this.scaleUnit = scaleUnit;\n        return this\n    }\n\n    getScaleUnit() {\n        return this.scaleUnit\n    }\n\n    setScalePixel(scaleLengthAsPixel) {\n        this.scalePixel = scaleLengthAsPixel\n        return this\n    }\n\n    getScalePixel() {\n        return this.scalePixel\n    }\n\n    setSampleLabel(s) {\n        this.sampleLabel = s\n    }\n\n    getSampleLabel() {\n        return this.sampleLabel || \"\"\n    }\n\n    setImageSize(img) {\n        this.imageSize = {\n            \"width\": img.width,\n            \"height\": img.height\n        }\n        return this\n    }\n\n    getImageWidth() {\n        return this.imageSize.width\n    }\n\n    getImageHeight() {\n        return this.imageSize.height\n    }\n\n    setRotateCenter(fromLeft, fromTop) {\n        this.rotateCenter = [fromLeft, fromTop]\n        return this\n    }\n\n    getRotateCenter() {\n        return [\n            this.rotateCenter[0] === undefined\n                ? this.getImageWidth() * 0.5\n                : this.rotateCenter[0],\n            this.rotateCenter[1] === undefined\n                ? this.getImageHeight() * 0.5\n                : this.rotateCenter[1]\n        ]\n    }\n\n    setImagesNumber(value) {\n        this.imagesNumber = value\n        return this\n    }\n\n    getImagesNumber() {\n        return this.imagesNumber\n    }\n\n    getRotateSectionDegree() {\n        return this.getEachRotateDegree() * (this.getImagesNumber() - 1)\n    }\n\n    setRotateDirection(direction) {\n        this.rotateDirection = direction\n        return this\n    }\n\n    isRotateClockwise() {\n        return this.rotateDirection === \"clockwise\"\n    }\n\n    setEachRotateDegree(degree) {\n        this.eachRotateDegree = degree\n        return this\n    }\n\n    getEachRotateDegree() {\n        return this.eachRotateDegree\n    }\n\n    setRockType(lang, desc) {\n        this.rockType[lang] = desc\n        return this\n    }\n\n    getRockType() {\n        return this.rockType\n    }\n\n    setOwner(lang, desc) {\n        this.owner[lang] = desc\n        return this\n    }\n\n    getOwner() {\n        return this.owner\n    }\n\n    setDescription(lang, desc) {\n        this.description[lang] = desc\n        return this\n    }\n\n    getDescription() {\n        return this.description\n    }\n\n    setImageFormats(formats) {\n        formats.forEach(format => {\n            console.assert([\"webp\", \"jpg\", \"jp2\"].includes(format))\n        })\n        this.imageFormats = formats\n    }\n\n    getImageFormats() {\n        return this.imageFormats || []\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvcGFja2FnZV9tYW5pZmVzdC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9wYWNrYWdlX21hbmlmZXN0LmpzP2E0YjAiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFja2FnZU1hbmlmZXN0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5wYWNrYWdlSUQgPSBudWxsXG4gICAgICAgIHRoaXMubGlzdE5hbWUgPSB7fVxuICAgICAgICB0aGlzLmxvY2F0aW9uID0ge31cbiAgICAgICAgdGhpcy5vd25lciA9IHt9XG4gICAgICAgIHRoaXMucm9ja1R5cGUgPSB7fVxuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0ge31cbiAgICAgICAgdGhpcy5nZW9TeXN0ZW0gPSBcIlwiXG4gICAgICAgIHRoaXMuZ2VvUG9zaXRpb24gPSBbbnVsbCwgbnVsbF1cbiAgICAgICAgdGhpcy5yb3RhdGVDZW50ZXIgPSBbdW5kZWZpbmVkLCB1bmRlZmluZWRdXG4gICAgICAgIHRoaXMucm90YXRlRGlyZWN0aW9uID0gXCJjbG9ja3dpc2VcIlxuICAgICAgICB0aGlzLmltYWdlU2l6ZSA9IHsgXCJ3aWR0aFwiOiAwLCBcImhlaWdodFwiOiAwIH1cbiAgICB9XG5cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBcInBhY2thZ2UtaWRcIjogdGhpcy5nZXRQYWNrYWdlSUQoKSxcbiAgICAgICAgICAgIFwibGlzdC1uYW1lXCI6IHRoaXMuZ2V0TGlzdE5hbWUoKSxcbiAgICAgICAgICAgIFwiaW1hZ2Vfd2lkdGhcIjogdGhpcy5nZXRJbWFnZVdpZHRoKCksXG4gICAgICAgICAgICBcImltYWdlX2hlaWdodFwiOiB0aGlzLmdldEltYWdlSGVpZ2h0KCksXG4gICAgICAgICAgICBcInJvdGF0ZV9jZW50ZXJcIjogdGhpcy5nZXRSb3RhdGVDZW50ZXIoKSxcbiAgICAgICAgICAgIFwiY3ljbGVfcm90YXRlX2RlZ3JlZVwiOiB0aGlzLmdldFJvdGF0ZVNlY3Rpb25EZWdyZWUoKSxcbiAgICAgICAgICAgIFwicm90YXRlX2Nsb2Nrd2lzZVwiOiB0aGlzLmlzUm90YXRlQ2xvY2t3aXNlKCksXG4gICAgICAgICAgICBcInJvdGF0ZV9ieV9kZWdyZWVcIjogdGhpcy5nZXRFYWNoUm90YXRlRGVncmVlKCksXG4gICAgICAgICAgICBcImxvY2F0aW9uXCI6IHRoaXMuZ2V0U2FtcGxlTG9jYXRpb24oKSxcbiAgICAgICAgICAgIFwib3duZXJcIjogdGhpcy5nZXRPd25lcigpLFxuICAgICAgICAgICAgXCJyb2NrX3R5cGVcIjogdGhpcy5nZXRSb2NrVHlwZSgpLFxuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiB0aGlzLmdldERlc2NyaXB0aW9uKCksXG4gICAgICAgICAgICBcInNjYWxlLXVuaXRcIjogdGhpcy5nZXRTY2FsZVVuaXQoKSxcbiAgICAgICAgICAgIFwic2NhbGUtcGl4ZWxcIjogdGhpcy5nZXRTY2FsZVBpeGVsKCksXG4gICAgICAgICAgICBcIm1hZ25pZnlcIjogdGhpcy5nZXRNYWduaWZ5KCksXG4gICAgICAgICAgICBcInNhbXBsZV9sYWJlbFwiOiB0aGlzLmdldFNhbXBsZUxhYmVsKCksXG4gICAgICAgICAgICBcImdlb2dyYXBoaWMtY29vcmRpbmF0ZVwiOiB0aGlzLmdldEdlb0xvY2F0aW9uKCksXG4gICAgICAgICAgICBcImltYWdlX2Zvcm1hdHNcIjogdGhpcy5nZXRJbWFnZUZvcm1hdHMoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0U2FtcGxlTGlzdEVudHJ5KCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgXCJwYWNrYWdlLW5hbWVcIjogdGhpcy5nZXRQYWNrYWdlSUQoKSxcbiAgICAgICAgICAgIFwibGlzdC1uYW1lXCI6IHRoaXMuZ2V0TGlzdE5hbWUoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0UGFja2FnZUlEKGlkKSB7XG4gICAgICAgIHRoaXMucGFja2FnZUlEID0gaWRcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBnZXRQYWNrYWdlSUQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhY2thZ2VJRCB8fCBcIlwiXG4gICAgfVxuXG4gICAgc2V0TGlzdE5hbWUobGFuZywgcykge1xuICAgICAgICB0aGlzLmxpc3ROYW1lW2xhbmddID0gcztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZ2V0TGlzdE5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3ROYW1lO1xuICAgIH1cblxuICAgIHNldFNhbXBsZUxvY2F0aW9uKGxhbmcsIGRlc2MpIHtcbiAgICAgICAgdGhpcy5sb2NhdGlvbltsYW5nXSA9IGRlc2M7XG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgZ2V0U2FtcGxlTG9jYXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2F0aW9uO1xuICAgIH1cblxuICAgIHNldExvY2F0aW9uKHN5c3RlbSwgdjEsIHYyKSB7XG4gICAgICAgIHRoaXMuZ2VvU3lzdGVtID0gc3lzdGVtLFxuICAgICAgICAgICAgdGhpcy5nZW9Qb3NpdGlvbiA9IFt2MSwgdjJdXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgZ2V0R2VvTG9jYXRpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBcInN5c3RlbVwiOiB0aGlzLmdlb1N5c3RlbSxcbiAgICAgICAgICAgIFwicG9zaXRpb25cIjoge1xuICAgICAgICAgICAgICAgIFwibGF0aXR1ZGVcIjogdGhpcy5nZW9Qb3NpdGlvblswXSxcbiAgICAgICAgICAgICAgICBcImxvbmdpdHVkZVwiOiB0aGlzLmdlb1Bvc2l0aW9uWzFdXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRNYWduaWZ5KG1hZ25pZmljYXRpb25WYWx1ZSkge1xuICAgICAgICB0aGlzLm1hZ25pZnkgPSBtYWduaWZpY2F0aW9uVmFsdWVcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBnZXRNYWduaWZ5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYWduaWZ5XG4gICAgfVxuXG4gICAgc2V0U2NhbGVVbml0KHNjYWxlVW5pdCkge1xuICAgICAgICB0aGlzLnNjYWxlVW5pdCA9IHNjYWxlVW5pdDtcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBnZXRTY2FsZVVuaXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjYWxlVW5pdFxuICAgIH1cblxuICAgIHNldFNjYWxlUGl4ZWwoc2NhbGVMZW5ndGhBc1BpeGVsKSB7XG4gICAgICAgIHRoaXMuc2NhbGVQaXhlbCA9IHNjYWxlTGVuZ3RoQXNQaXhlbFxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGdldFNjYWxlUGl4ZWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjYWxlUGl4ZWxcbiAgICB9XG5cbiAgICBzZXRTYW1wbGVMYWJlbChzKSB7XG4gICAgICAgIHRoaXMuc2FtcGxlTGFiZWwgPSBzXG4gICAgfVxuXG4gICAgZ2V0U2FtcGxlTGFiZWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNhbXBsZUxhYmVsIHx8IFwiXCJcbiAgICB9XG5cbiAgICBzZXRJbWFnZVNpemUoaW1nKSB7XG4gICAgICAgIHRoaXMuaW1hZ2VTaXplID0ge1xuICAgICAgICAgICAgXCJ3aWR0aFwiOiBpbWcud2lkdGgsXG4gICAgICAgICAgICBcImhlaWdodFwiOiBpbWcuaGVpZ2h0XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBnZXRJbWFnZVdpZHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbWFnZVNpemUud2lkdGhcbiAgICB9XG5cbiAgICBnZXRJbWFnZUhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW1hZ2VTaXplLmhlaWdodFxuICAgIH1cblxuICAgIHNldFJvdGF0ZUNlbnRlcihmcm9tTGVmdCwgZnJvbVRvcCkge1xuICAgICAgICB0aGlzLnJvdGF0ZUNlbnRlciA9IFtmcm9tTGVmdCwgZnJvbVRvcF1cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBnZXRSb3RhdGVDZW50ZXIoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB0aGlzLnJvdGF0ZUNlbnRlclswXSA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyB0aGlzLmdldEltYWdlV2lkdGgoKSAqIDAuNVxuICAgICAgICAgICAgICAgIDogdGhpcy5yb3RhdGVDZW50ZXJbMF0sXG4gICAgICAgICAgICB0aGlzLnJvdGF0ZUNlbnRlclsxXSA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyB0aGlzLmdldEltYWdlSGVpZ2h0KCkgKiAwLjVcbiAgICAgICAgICAgICAgICA6IHRoaXMucm90YXRlQ2VudGVyWzFdXG4gICAgICAgIF1cbiAgICB9XG5cbiAgICBzZXRJbWFnZXNOdW1iZXIodmFsdWUpIHtcbiAgICAgICAgdGhpcy5pbWFnZXNOdW1iZXIgPSB2YWx1ZVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGdldEltYWdlc051bWJlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW1hZ2VzTnVtYmVyXG4gICAgfVxuXG4gICAgZ2V0Um90YXRlU2VjdGlvbkRlZ3JlZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RWFjaFJvdGF0ZURlZ3JlZSgpICogKHRoaXMuZ2V0SW1hZ2VzTnVtYmVyKCkgLSAxKVxuICAgIH1cblxuICAgIHNldFJvdGF0ZURpcmVjdGlvbihkaXJlY3Rpb24pIHtcbiAgICAgICAgdGhpcy5yb3RhdGVEaXJlY3Rpb24gPSBkaXJlY3Rpb25cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBpc1JvdGF0ZUNsb2Nrd2lzZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm90YXRlRGlyZWN0aW9uID09PSBcImNsb2Nrd2lzZVwiXG4gICAgfVxuXG4gICAgc2V0RWFjaFJvdGF0ZURlZ3JlZShkZWdyZWUpIHtcbiAgICAgICAgdGhpcy5lYWNoUm90YXRlRGVncmVlID0gZGVncmVlXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgZ2V0RWFjaFJvdGF0ZURlZ3JlZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaFJvdGF0ZURlZ3JlZVxuICAgIH1cblxuICAgIHNldFJvY2tUeXBlKGxhbmcsIGRlc2MpIHtcbiAgICAgICAgdGhpcy5yb2NrVHlwZVtsYW5nXSA9IGRlc2NcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBnZXRSb2NrVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm9ja1R5cGVcbiAgICB9XG5cbiAgICBzZXRPd25lcihsYW5nLCBkZXNjKSB7XG4gICAgICAgIHRoaXMub3duZXJbbGFuZ10gPSBkZXNjXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgZ2V0T3duZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm93bmVyXG4gICAgfVxuXG4gICAgc2V0RGVzY3JpcHRpb24obGFuZywgZGVzYykge1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uW2xhbmddID0gZGVzY1xuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGdldERlc2NyaXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZXNjcmlwdGlvblxuICAgIH1cblxuICAgIHNldEltYWdlRm9ybWF0cyhmb3JtYXRzKSB7XG4gICAgICAgIGZvcm1hdHMuZm9yRWFjaChmb3JtYXQgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5hc3NlcnQoW1wid2VicFwiLCBcImpwZ1wiLCBcImpwMlwiXS5pbmNsdWRlcyhmb3JtYXQpKVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLmltYWdlRm9ybWF0cyA9IGZvcm1hdHNcbiAgICB9XG5cbiAgICBnZXRJbWFnZUZvcm1hdHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmltYWdlRm9ybWF0cyB8fCBbXVxuICAgIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/package_manifest.js\n");

/***/ }),

/***/ "./src/js/pinchImage.js":
/*!******************************!*\
  !*** ./src/js/pinchImage.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return pinchImage; });\n/* harmony import */ var _coordinate_updators_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./coordinate_updators.js */ \"./src/js/coordinate_updators.js\");\n/* harmony import */ var _updateMagnify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./updateMagnify.js */ \"./src/js/updateMagnify.js\");\n/* harmony import */ var _draw_state_updators_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./draw_state_updators.js */ \"./src/js/draw_state_updators.js\");\n\n\n\n\nfunction pinchImage(state, e) {\n    return () => {\n        Object(_coordinate_updators_js__WEBPACK_IMPORTED_MODULE_0__[\"updateCoordinate\"])(state, e)\n        Object(_updateMagnify_js__WEBPACK_IMPORTED_MODULE_1__[\"updateMagnifyByPinch\"])(state, e)\n        Object(_draw_state_updators_js__WEBPACK_IMPORTED_MODULE_2__[\"blobToCanvas\"])(state)\n        Object(_draw_state_updators_js__WEBPACK_IMPORTED_MODULE_2__[\"drawHairLine\"])(state)\n        Object(_draw_state_updators_js__WEBPACK_IMPORTED_MODULE_2__[\"drawScale\"])(state)\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvcGluY2hJbWFnZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9waW5jaEltYWdlLmpzP2ZkY2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXBkYXRlQ29vcmRpbmF0ZSB9IGZyb20gXCIuL2Nvb3JkaW5hdGVfdXBkYXRvcnMuanNcIlxuaW1wb3J0IHsgdXBkYXRlTWFnbmlmeUJ5UGluY2ggfSBmcm9tIFwiLi91cGRhdGVNYWduaWZ5LmpzXCJcbmltcG9ydCB7IGJsb2JUb0NhbnZhcywgZHJhd0hhaXJMaW5lLCBkcmF3U2NhbGUgfSBmcm9tIFwiLi9kcmF3X3N0YXRlX3VwZGF0b3JzLmpzXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGluY2hJbWFnZShzdGF0ZSwgZSkge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHVwZGF0ZUNvb3JkaW5hdGUoc3RhdGUsIGUpXG4gICAgICAgIHVwZGF0ZU1hZ25pZnlCeVBpbmNoKHN0YXRlLCBlKVxuICAgICAgICBibG9iVG9DYW52YXMoc3RhdGUpXG4gICAgICAgIGRyYXdIYWlyTGluZShzdGF0ZSlcbiAgICAgICAgZHJhd1NjYWxlKHN0YXRlKVxuICAgIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/pinchImage.js\n");

/***/ }),

/***/ "./src/js/radiunBetween.js":
/*!*********************************!*\
  !*** ./src/js/radiunBetween.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return radiunBetween; });\nfunction radiunBetween(cx, cy) {\n    return (_x1, _y1, _x2, _y2) => {\n        const x1 = _x1 - cx\n        const x2 = _x2 - cx\n        const y1 = _y1 - cy\n        const y2 = _y2 - cy\n\n        const cos = (x1 * x2 + y1 * y2) / Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2))\n        return Math.sign(x1 * y2 - x2 * y1) * Math.acos(cos)\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvcmFkaXVuQmV0d2Vlbi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9yYWRpdW5CZXR3ZWVuLmpzP2FmMGYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmFkaXVuQmV0d2VlbihjeCwgY3kpIHtcbiAgICByZXR1cm4gKF94MSwgX3kxLCBfeDIsIF95MikgPT4ge1xuICAgICAgICBjb25zdCB4MSA9IF94MSAtIGN4XG4gICAgICAgIGNvbnN0IHgyID0gX3gyIC0gY3hcbiAgICAgICAgY29uc3QgeTEgPSBfeTEgLSBjeVxuICAgICAgICBjb25zdCB5MiA9IF95MiAtIGN5XG5cbiAgICAgICAgY29uc3QgY29zID0gKHgxICogeDIgKyB5MSAqIHkyKSAvIE1hdGguc3FydCgoeDEgKiB4MSArIHkxICogeTEpICogKHgyICogeDIgKyB5MiAqIHkyKSlcbiAgICAgICAgcmV0dXJuIE1hdGguc2lnbih4MSAqIHkyIC0geDIgKiB5MSkgKiBNYXRoLmFjb3MoY29zKVxuICAgIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/radiunBetween.js\n");

/***/ }),

/***/ "./src/js/remote_repo/static/filter_by_category.js":
/*!*********************************************************!*\
  !*** ./src/js/remote_repo/static/filter_by_category.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return SampleFilter; });\nclass SampleFilter {\n    constructor(queries = []) {\n        this.queries = new Set(queries.map(this.listToQuery))\n    }\n\n    add(query) {\n        this.queries.add(this.listToQuery(query))\n    }\n\n    addMany(queries) {\n        queries.forEach(v => {\n            this.queries.add(this.listToQuery(v))\n        })\n    }\n\n    remove(value) {\n        this.queries.delete(this.listToQuery(value))\n    }\n\n    removeMany(values) {\n        values.forEach(v => {\n            this.queries.delete(this.listToQuery(v))\n        })\n    }\n\n    reset(queries) {\n        this.queries = new Set(queries.map(this.listToQuery))\n    }\n\n    list() {\n        return this.queries\n    }\n\n    listToQuery(path) {\n        return path.reduce((acc, e) => {\n            if (acc === \"\") return e\n            return acc + \"::\" + e\n        }, \"\")\n    }\n\n    filter(sampleList) {\n        if (this.queries.size === 0) return sampleList\n\n        const queries = [...this.queries].map(v => v.split(\"::\"))\n        return sampleList.filter(sample => {\n            if (!sample.hasOwnProperty(\"category\")) return false\n            const superset = new Set(sample.category)\n            for (let query of queries) {\n                if (isSubset(query, superset)) return true\n            }\n        })\n    }\n}\n\n\n/**\n *\n * @param {Set} set\n * @param {Set} superset\n */\nfunction isSubset(set, superset) {\n    if (set.size == 0) {\n        return true\n    }\n    for (let elem of set) {\n        if (!superset.has(elem)) {\n            return false;\n        }\n    }\n    return true;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvcmVtb3RlX3JlcG8vc3RhdGljL2ZpbHRlcl9ieV9jYXRlZ29yeS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9yZW1vdGVfcmVwby9zdGF0aWMvZmlsdGVyX2J5X2NhdGVnb3J5LmpzPzYxMzAiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2FtcGxlRmlsdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihxdWVyaWVzID0gW10pIHtcbiAgICAgICAgdGhpcy5xdWVyaWVzID0gbmV3IFNldChxdWVyaWVzLm1hcCh0aGlzLmxpc3RUb1F1ZXJ5KSlcbiAgICB9XG5cbiAgICBhZGQocXVlcnkpIHtcbiAgICAgICAgdGhpcy5xdWVyaWVzLmFkZCh0aGlzLmxpc3RUb1F1ZXJ5KHF1ZXJ5KSlcbiAgICB9XG5cbiAgICBhZGRNYW55KHF1ZXJpZXMpIHtcbiAgICAgICAgcXVlcmllcy5mb3JFYWNoKHYgPT4ge1xuICAgICAgICAgICAgdGhpcy5xdWVyaWVzLmFkZCh0aGlzLmxpc3RUb1F1ZXJ5KHYpKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHJlbW92ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLnF1ZXJpZXMuZGVsZXRlKHRoaXMubGlzdFRvUXVlcnkodmFsdWUpKVxuICAgIH1cblxuICAgIHJlbW92ZU1hbnkodmFsdWVzKSB7XG4gICAgICAgIHZhbHVlcy5mb3JFYWNoKHYgPT4ge1xuICAgICAgICAgICAgdGhpcy5xdWVyaWVzLmRlbGV0ZSh0aGlzLmxpc3RUb1F1ZXJ5KHYpKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHJlc2V0KHF1ZXJpZXMpIHtcbiAgICAgICAgdGhpcy5xdWVyaWVzID0gbmV3IFNldChxdWVyaWVzLm1hcCh0aGlzLmxpc3RUb1F1ZXJ5KSlcbiAgICB9XG5cbiAgICBsaXN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5xdWVyaWVzXG4gICAgfVxuXG4gICAgbGlzdFRvUXVlcnkocGF0aCkge1xuICAgICAgICByZXR1cm4gcGF0aC5yZWR1Y2UoKGFjYywgZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGFjYyA9PT0gXCJcIikgcmV0dXJuIGVcbiAgICAgICAgICAgIHJldHVybiBhY2MgKyBcIjo6XCIgKyBlXG4gICAgICAgIH0sIFwiXCIpXG4gICAgfVxuXG4gICAgZmlsdGVyKHNhbXBsZUxpc3QpIHtcbiAgICAgICAgaWYgKHRoaXMucXVlcmllcy5zaXplID09PSAwKSByZXR1cm4gc2FtcGxlTGlzdFxuXG4gICAgICAgIGNvbnN0IHF1ZXJpZXMgPSBbLi4udGhpcy5xdWVyaWVzXS5tYXAodiA9PiB2LnNwbGl0KFwiOjpcIikpXG4gICAgICAgIHJldHVybiBzYW1wbGVMaXN0LmZpbHRlcihzYW1wbGUgPT4ge1xuICAgICAgICAgICAgaWYgKCFzYW1wbGUuaGFzT3duUHJvcGVydHkoXCJjYXRlZ29yeVwiKSkgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICBjb25zdCBzdXBlcnNldCA9IG5ldyBTZXQoc2FtcGxlLmNhdGVnb3J5KVxuICAgICAgICAgICAgZm9yIChsZXQgcXVlcnkgb2YgcXVlcmllcykge1xuICAgICAgICAgICAgICAgIGlmIChpc1N1YnNldChxdWVyeSwgc3VwZXJzZXQpKSByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cbn1cblxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge1NldH0gc2V0XG4gKiBAcGFyYW0ge1NldH0gc3VwZXJzZXRcbiAqL1xuZnVuY3Rpb24gaXNTdWJzZXQoc2V0LCBzdXBlcnNldCkge1xuICAgIGlmIChzZXQuc2l6ZSA9PSAwKSB7XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIGZvciAobGV0IGVsZW0gb2Ygc2V0KSB7XG4gICAgICAgIGlmICghc3VwZXJzZXQuaGFzKGVsZW0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/remote_repo/static/filter_by_category.js\n");

/***/ }),

/***/ "./src/js/rotateImage.js":
/*!*******************************!*\
  !*** ./src/js/rotateImage.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return rotateImage; });\n/* harmony import */ var _coordinate_updators_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./coordinate_updators.js */ \"./src/js/coordinate_updators.js\");\n/* harmony import */ var _draw_state_updators_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./draw_state_updators.js */ \"./src/js/draw_state_updators.js\");\n\n\n\nfunction rotateImage(state, e) {\n    return () => {\n        Object(_coordinate_updators_js__WEBPACK_IMPORTED_MODULE_0__[\"updateCoordinate\"])(state, e)\n        Object(_coordinate_updators_js__WEBPACK_IMPORTED_MODULE_0__[\"updateRotate\"])(state, e)\n        Object(_draw_state_updators_js__WEBPACK_IMPORTED_MODULE_1__[\"blobToCanvas\"])(state)\n        Object(_draw_state_updators_js__WEBPACK_IMPORTED_MODULE_1__[\"drawHairLine\"])(state)\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvcm90YXRlSW1hZ2UuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvcm90YXRlSW1hZ2UuanM/YmY1NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1cGRhdGVDb29yZGluYXRlLCB1cGRhdGVSb3RhdGUgfSBmcm9tIFwiLi9jb29yZGluYXRlX3VwZGF0b3JzLmpzXCJcbmltcG9ydCB7IGJsb2JUb0NhbnZhcywgZHJhd0hhaXJMaW5lIH0gZnJvbSBcIi4vZHJhd19zdGF0ZV91cGRhdG9ycy5qc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJvdGF0ZUltYWdlKHN0YXRlLCBlKSB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgdXBkYXRlQ29vcmRpbmF0ZShzdGF0ZSwgZSlcbiAgICAgICAgdXBkYXRlUm90YXRlKHN0YXRlLCBlKVxuICAgICAgICBibG9iVG9DYW52YXMoc3RhdGUpXG4gICAgICAgIGRyYXdIYWlyTGluZShzdGF0ZSlcbiAgICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/rotateImage.js\n");

/***/ }),

/***/ "./src/js/rotation_degree_handlers.js":
/*!********************************************!*\
  !*** ./src/js/rotation_degree_handlers.js ***!
  \********************************************/
/*! exports provided: stepBy, cycleBy, mirrorBy, isInverse, rotateSign */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"stepBy\", function() { return stepBy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cycleBy\", function() { return cycleBy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mirrorBy\", function() { return mirrorBy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isInverse\", function() { return isInverse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rotateSign\", function() { return rotateSign; });\nconst stepBy = unit => val => Math.floor(val / unit)\n\nconst cycleBy = unit => val => {\n    const cycle_count = Math.floor(val / unit)\n    return val < 0\n        ? val + unit\n        : (unit <= val)\n            ? val - unit * cycle_count\n            : val\n}\n\nconst mirrorBy = (center) => val => val > center ? 2 * center - val : val\n\nconst isInverse = degree => (180 <= degree)\n\nconst rotateSign = (clockwise = true) => clockwise ? -1 : 1\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvcm90YXRpb25fZGVncmVlX2hhbmRsZXJzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3JvdGF0aW9uX2RlZ3JlZV9oYW5kbGVycy5qcz9jYTZlIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBzdGVwQnkgPSB1bml0ID0+IHZhbCA9PiBNYXRoLmZsb29yKHZhbCAvIHVuaXQpXG5cbmV4cG9ydCBjb25zdCBjeWNsZUJ5ID0gdW5pdCA9PiB2YWwgPT4ge1xuICAgIGNvbnN0IGN5Y2xlX2NvdW50ID0gTWF0aC5mbG9vcih2YWwgLyB1bml0KVxuICAgIHJldHVybiB2YWwgPCAwXG4gICAgICAgID8gdmFsICsgdW5pdFxuICAgICAgICA6ICh1bml0IDw9IHZhbClcbiAgICAgICAgICAgID8gdmFsIC0gdW5pdCAqIGN5Y2xlX2NvdW50XG4gICAgICAgICAgICA6IHZhbFxufVxuXG5leHBvcnQgY29uc3QgbWlycm9yQnkgPSAoY2VudGVyKSA9PiB2YWwgPT4gdmFsID4gY2VudGVyID8gMiAqIGNlbnRlciAtIHZhbCA6IHZhbFxuXG5leHBvcnQgY29uc3QgaXNJbnZlcnNlID0gZGVncmVlID0+ICgxODAgPD0gZGVncmVlKVxuXG5leHBvcnQgY29uc3Qgcm90YXRlU2lnbiA9IChjbG9ja3dpc2UgPSB0cnVlKSA9PiBjbG9ja3dpc2UgPyAtMSA6IDFcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/rotation_degree_handlers.js\n");

/***/ }),

/***/ "./src/js/sanitizeID.js":
/*!******************************!*\
  !*** ./src/js/sanitizeID.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return sanitizeID; });\nfunction sanitizeID(id) {\n    return id.replace(/\\//g, \"_\").replace(/\\./g, \"\")\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvc2FuaXRpemVJRC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9zYW5pdGl6ZUlELmpzP2Q3N2YiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2FuaXRpemVJRChpZCkge1xuICAgIHJldHVybiBpZC5yZXBsYWNlKC9cXC8vZywgXCJfXCIpLnJlcGxhY2UoL1xcLi9nLCBcIlwiKVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/sanitizeID.js\n");

/***/ }),

/***/ "./src/js/state/initState.js":
/*!***********************************!*\
  !*** ./src/js/state/initState.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return initState; });\n/* harmony import */ var _getMaxViewerSize_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../getMaxViewerSize.js */ \"./src/js/getMaxViewerSize.js\");\n/* harmony import */ var _ui_state_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ui_state.js */ \"./src/js/state/ui_state.js\");\n/* harmony import */ var _viewer_state_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./viewer_state.js */ \"./src/js/state/viewer_state.js\");\n\n\n\n\nfunction initState() {\n    return {\n        \"isMousedown\": false,\n        \"drag_start\": [0, 0],\n        \"drag_end\": [0, 0],\n        \"uiState\": _ui_state_js__WEBPACK_IMPORTED_MODULE_1__[\"uiState\"],\n        ..._viewer_state_js__WEBPACK_IMPORTED_MODULE_2__[\"viewerState\"] // TODO viewerState should be independent\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvc3RhdGUvaW5pdFN0YXRlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3N0YXRlL2luaXRTdGF0ZS5qcz9kYjRkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBnZXRNYXhWaWV3ZXJTaXplIGZyb20gXCIuLi9nZXRNYXhWaWV3ZXJTaXplLmpzXCJcbmltcG9ydCB7IHVpU3RhdGUgfSBmcm9tIFwiLi91aV9zdGF0ZS5qc1wiXG5pbXBvcnQgeyB2aWV3ZXJTdGF0ZSB9IGZyb20gXCIuL3ZpZXdlcl9zdGF0ZS5qc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBcImlzTW91c2Vkb3duXCI6IGZhbHNlLFxuICAgICAgICBcImRyYWdfc3RhcnRcIjogWzAsIDBdLFxuICAgICAgICBcImRyYWdfZW5kXCI6IFswLCAwXSxcbiAgICAgICAgXCJ1aVN0YXRlXCI6IHVpU3RhdGUsXG4gICAgICAgIC4uLnZpZXdlclN0YXRlIC8vIFRPRE8gdmlld2VyU3RhdGUgc2hvdWxkIGJlIGluZGVwZW5kZW50XG4gICAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/state/initState.js\n");

/***/ }),

/***/ "./src/js/state/ui_state.js":
/*!**********************************!*\
  !*** ./src/js/state/ui_state.js ***!
  \**********************************/
/*! exports provided: uiState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"uiState\", function() { return uiState; });\n/* harmony import */ var _remote_repo_static_filter_by_category_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../remote_repo/static/filter_by_category.js */ \"./src/js/remote_repo/static/filter_by_category.js\");\n/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config/config.js */ \"./src/js/config/config.js\");\n\n\n\nfunction overrideLanguageByLocalStorage(systemLanguage) {\n    const langInLocalStorage = _config_config_js__WEBPACK_IMPORTED_MODULE_1__[\"cacheStorage\"].get(\"language\")\n    const lang = (langInLocalStorage !== undefined)\n        ? langInLocalStorage\n        : systemLanguage;\n    document.querySelector(\"option[value=\" + lang + \"]\").selected = true\n    return lang\n}\n\nfunction getSystemLanguage() {\n    const code = (window.navigator.languages && window.navigator.languages[0]) ||\n        window.navigator.language ||\n        window.navigator.userLanguage ||\n        window.navigator.browserLanguage;\n\n    const lang = code.match(\"ja\") ? \"ja\" : \"en\";\n\n    return lang\n}\n\nconst uiState = {\n    \"sampleFilter\": new _remote_repo_static_filter_by_category_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](),\n    \"storedKeys\": [],\n    \"language\": overrideLanguageByLocalStorage(getSystemLanguage()),\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvc3RhdGUvdWlfc3RhdGUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvc3RhdGUvdWlfc3RhdGUuanM/YjYzYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU2FtcGxlRmlsdGVyIGZyb20gXCIuLi9yZW1vdGVfcmVwby9zdGF0aWMvZmlsdGVyX2J5X2NhdGVnb3J5LmpzXCJcbmltcG9ydCB7IGNhY2hlU3RvcmFnZSB9IGZyb20gXCIuLi9jb25maWcvY29uZmlnLmpzXCJcblxuZnVuY3Rpb24gb3ZlcnJpZGVMYW5ndWFnZUJ5TG9jYWxTdG9yYWdlKHN5c3RlbUxhbmd1YWdlKSB7XG4gICAgY29uc3QgbGFuZ0luTG9jYWxTdG9yYWdlID0gY2FjaGVTdG9yYWdlLmdldChcImxhbmd1YWdlXCIpXG4gICAgY29uc3QgbGFuZyA9IChsYW5nSW5Mb2NhbFN0b3JhZ2UgIT09IHVuZGVmaW5lZClcbiAgICAgICAgPyBsYW5nSW5Mb2NhbFN0b3JhZ2VcbiAgICAgICAgOiBzeXN0ZW1MYW5ndWFnZTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwib3B0aW9uW3ZhbHVlPVwiICsgbGFuZyArIFwiXVwiKS5zZWxlY3RlZCA9IHRydWVcbiAgICByZXR1cm4gbGFuZ1xufVxuXG5mdW5jdGlvbiBnZXRTeXN0ZW1MYW5ndWFnZSgpIHtcbiAgICBjb25zdCBjb2RlID0gKHdpbmRvdy5uYXZpZ2F0b3IubGFuZ3VhZ2VzICYmIHdpbmRvdy5uYXZpZ2F0b3IubGFuZ3VhZ2VzWzBdKSB8fFxuICAgICAgICB3aW5kb3cubmF2aWdhdG9yLmxhbmd1YWdlIHx8XG4gICAgICAgIHdpbmRvdy5uYXZpZ2F0b3IudXNlckxhbmd1YWdlIHx8XG4gICAgICAgIHdpbmRvdy5uYXZpZ2F0b3IuYnJvd3Nlckxhbmd1YWdlO1xuXG4gICAgY29uc3QgbGFuZyA9IGNvZGUubWF0Y2goXCJqYVwiKSA/IFwiamFcIiA6IFwiZW5cIjtcblxuICAgIHJldHVybiBsYW5nXG59XG5cbmV4cG9ydCBjb25zdCB1aVN0YXRlID0ge1xuICAgIFwic2FtcGxlRmlsdGVyXCI6IG5ldyBTYW1wbGVGaWx0ZXIoKSxcbiAgICBcInN0b3JlZEtleXNcIjogW10sXG4gICAgXCJsYW5ndWFnZVwiOiBvdmVycmlkZUxhbmd1YWdlQnlMb2NhbFN0b3JhZ2UoZ2V0U3lzdGVtTGFuZ3VhZ2UoKSksXG59Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/state/ui_state.js\n");

/***/ }),

/***/ "./src/js/state/viewer_state.js":
/*!**************************************!*\
  !*** ./src/js/state/viewer_state.js ***!
  \**************************************/
/*! exports provided: viewerState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"viewerState\", function() { return viewerState; });\n/* harmony import */ var _getMaxViewerSize_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../getMaxViewerSize.js */ \"./src/js/getMaxViewerSize.js\");\n\n\nconst viewerState = {\n    \"containorID\": \"\",\n    \"imageNumber\": 1,\n    \"canvasWidth\": Object(_getMaxViewerSize_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])() <= 500\n        ? Object(_getMaxViewerSize_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])()\n        : 500,\n    \"canvasHeight\": Object(_getMaxViewerSize_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])() <= 500\n        ? Object(_getMaxViewerSize_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])()\n        : 500,\n    \"imageRadius\": 0,\n    \"open_image_srcs\": [],\n    \"open_images\": [],\n    \"cross_image_srcs\": [],\n    \"cross_images\": [],\n    \"rotate\": 0,\n    \"rotate_axis_translate\": [],\n    \"isClockwise\": true,\n    \"isCrossNicol\": false,\n    \"drawHairLine\": true,\n    \"canRotate\": true,\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvc3RhdGUvdmlld2VyX3N0YXRlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3N0YXRlL3ZpZXdlcl9zdGF0ZS5qcz84YWJhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBnZXRNYXhWaWV3ZXJTaXplIGZyb20gXCIuLi9nZXRNYXhWaWV3ZXJTaXplLmpzXCJcblxuZXhwb3J0IGNvbnN0IHZpZXdlclN0YXRlID0ge1xuICAgIFwiY29udGFpbm9ySURcIjogXCJcIixcbiAgICBcImltYWdlTnVtYmVyXCI6IDEsXG4gICAgXCJjYW52YXNXaWR0aFwiOiBnZXRNYXhWaWV3ZXJTaXplKCkgPD0gNTAwXG4gICAgICAgID8gZ2V0TWF4Vmlld2VyU2l6ZSgpXG4gICAgICAgIDogNTAwLFxuICAgIFwiY2FudmFzSGVpZ2h0XCI6IGdldE1heFZpZXdlclNpemUoKSA8PSA1MDBcbiAgICAgICAgPyBnZXRNYXhWaWV3ZXJTaXplKClcbiAgICAgICAgOiA1MDAsXG4gICAgXCJpbWFnZVJhZGl1c1wiOiAwLFxuICAgIFwib3Blbl9pbWFnZV9zcmNzXCI6IFtdLFxuICAgIFwib3Blbl9pbWFnZXNcIjogW10sXG4gICAgXCJjcm9zc19pbWFnZV9zcmNzXCI6IFtdLFxuICAgIFwiY3Jvc3NfaW1hZ2VzXCI6IFtdLFxuICAgIFwicm90YXRlXCI6IDAsXG4gICAgXCJyb3RhdGVfYXhpc190cmFuc2xhdGVcIjogW10sXG4gICAgXCJpc0Nsb2Nrd2lzZVwiOiB0cnVlLFxuICAgIFwiaXNDcm9zc05pY29sXCI6IGZhbHNlLFxuICAgIFwiZHJhd0hhaXJMaW5lXCI6IHRydWUsXG4gICAgXCJjYW5Sb3RhdGVcIjogdHJ1ZSxcbn0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/state/viewer_state.js\n");

/***/ }),

/***/ "./src/js/touchEventHandlers.js":
/*!**************************************!*\
  !*** ./src/js/touchEventHandlers.js ***!
  \**************************************/
/*! exports provided: touchStartHandler, touchMoveHandler, touchEndHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"touchStartHandler\", function() { return touchStartHandler; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"touchMoveHandler\", function() { return touchMoveHandler; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"touchEndHandler\", function() { return touchEndHandler; });\n/* harmony import */ var _coordinate_updators_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./coordinate_updators.js */ \"./src/js/coordinate_updators.js\");\n/* harmony import */ var _rotateImage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rotateImage.js */ \"./src/js/rotateImage.js\");\n/* harmony import */ var _pinchImage_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pinchImage.js */ \"./src/js/pinchImage.js\");\n\n\n\n\nconst touchStartHandler = state => e => {\n    state.isMousedown = true\n    state.drag_end = Object(_coordinate_updators_js__WEBPACK_IMPORTED_MODULE_0__[\"canvasCoordinate\"])(e)\n    e.preventDefault();\n}\n\nconst touchMoveHandler = state => e => {\n    if (!state.isMousedown) return\n    if (e instanceof MouseEvent || e.touches.length === 1) {\n        e.preventDefault();\n        requestAnimationFrame(\n            Object(_rotateImage_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(state, e)\n        )\n    } else if (e.touches.length === 2) {\n        e.preventDefault()\n        requestAnimationFrame(\n            Object(_pinchImage_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(state, e)\n        )\n    }\n}\n\nconst touchEndHandler = state => e => {\n    state.isMousedown = false\n    state.drag_end = undefined\n    state.pinch_end = undefined\n    e.preventDefault()\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvdG91Y2hFdmVudEhhbmRsZXJzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3RvdWNoRXZlbnRIYW5kbGVycy5qcz80MGQ2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNhbnZhc0Nvb3JkaW5hdGUgfSBmcm9tIFwiLi9jb29yZGluYXRlX3VwZGF0b3JzLmpzXCJcbmltcG9ydCByb3RhdGVJbWFnZSBmcm9tIFwiLi9yb3RhdGVJbWFnZS5qc1wiXG5pbXBvcnQgcGluY2hJbWFnZSBmcm9tIFwiLi9waW5jaEltYWdlLmpzXCJcblxuZXhwb3J0IGNvbnN0IHRvdWNoU3RhcnRIYW5kbGVyID0gc3RhdGUgPT4gZSA9PiB7XG4gICAgc3RhdGUuaXNNb3VzZWRvd24gPSB0cnVlXG4gICAgc3RhdGUuZHJhZ19lbmQgPSBjYW52YXNDb29yZGluYXRlKGUpXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xufVxuXG5leHBvcnQgY29uc3QgdG91Y2hNb3ZlSGFuZGxlciA9IHN0YXRlID0+IGUgPT4ge1xuICAgIGlmICghc3RhdGUuaXNNb3VzZWRvd24pIHJldHVyblxuICAgIGlmIChlIGluc3RhbmNlb2YgTW91c2VFdmVudCB8fCBlLnRvdWNoZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKFxuICAgICAgICAgICAgcm90YXRlSW1hZ2Uoc3RhdGUsIGUpXG4gICAgICAgIClcbiAgICB9IGVsc2UgaWYgKGUudG91Y2hlcy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShcbiAgICAgICAgICAgIHBpbmNoSW1hZ2Uoc3RhdGUsIGUpXG4gICAgICAgIClcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCB0b3VjaEVuZEhhbmRsZXIgPSBzdGF0ZSA9PiBlID0+IHtcbiAgICBzdGF0ZS5pc01vdXNlZG93biA9IGZhbHNlXG4gICAgc3RhdGUuZHJhZ19lbmQgPSB1bmRlZmluZWRcbiAgICBzdGF0ZS5waW5jaF9lbmQgPSB1bmRlZmluZWRcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/touchEventHandlers.js\n");

/***/ }),

/***/ "./src/js/updateMagnify.js":
/*!*********************************!*\
  !*** ./src/js/updateMagnify.js ***!
  \*********************************/
/*! exports provided: updateMagnifyByPinch, updateMagnifyByWheel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateMagnifyByPinch\", function() { return updateMagnifyByPinch; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateMagnifyByWheel\", function() { return updateMagnifyByWheel; });\n/* harmony import */ var _coordinate_updators_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./coordinate_updators.js */ \"./src/js/coordinate_updators.js\");\n\n\nfunction updateMagnifyByPinch(state, e) {\n    if (state.drag_start === undefined) return\n    if (state.pinch_start === undefined) return\n\n    const x1 = [...state.drag_start]\n    const y1 = [...state.pinch_start]\n    const x2 = [...state.drag_end]\n    const y2 = [...state.pinch_end]\n\n    const expansion = Math.sqrt((x2[0] - y2[0]) ** 2 + (x2[1] - y2[1]) ** 2) / Math.sqrt((x1[0] - y1[0]) ** 2 + (x1[1] - y1[1]) ** 2)\n\n    const newRadius = (expansion > 2)\n        ? state.imageRadius\n        : state.imageRadius / expansion\n    state.imageRadius = (newRadius) > state.imageRadiusOriginal\n        ? state.imageRadiusOriginal\n        : (newRadius < 100)\n            ? 100\n            : newRadius\n    return state\n}\n\nfunction updateMagnifyByWheel(state, e) {\n    const scrolled = Object(_coordinate_updators_js__WEBPACK_IMPORTED_MODULE_0__[\"canvasCoordinate\"])(e)[1]\n\n    const newRadius = state.imageRadius + scrolled\n    state.imageRadius = (newRadius) > state.imageRadiusOriginal\n        ? state.imageRadiusOriginal\n        : (newRadius < 100)\n            ? 100\n            : newRadius\n    return state\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvdXBkYXRlTWFnbmlmeS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy91cGRhdGVNYWduaWZ5LmpzPzdkOTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2FudmFzQ29vcmRpbmF0ZSB9IGZyb20gXCIuL2Nvb3JkaW5hdGVfdXBkYXRvcnMuanNcIlxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlTWFnbmlmeUJ5UGluY2goc3RhdGUsIGUpIHtcbiAgICBpZiAoc3RhdGUuZHJhZ19zdGFydCA9PT0gdW5kZWZpbmVkKSByZXR1cm5cbiAgICBpZiAoc3RhdGUucGluY2hfc3RhcnQgPT09IHVuZGVmaW5lZCkgcmV0dXJuXG5cbiAgICBjb25zdCB4MSA9IFsuLi5zdGF0ZS5kcmFnX3N0YXJ0XVxuICAgIGNvbnN0IHkxID0gWy4uLnN0YXRlLnBpbmNoX3N0YXJ0XVxuICAgIGNvbnN0IHgyID0gWy4uLnN0YXRlLmRyYWdfZW5kXVxuICAgIGNvbnN0IHkyID0gWy4uLnN0YXRlLnBpbmNoX2VuZF1cblxuICAgIGNvbnN0IGV4cGFuc2lvbiA9IE1hdGguc3FydCgoeDJbMF0gLSB5MlswXSkgKiogMiArICh4MlsxXSAtIHkyWzFdKSAqKiAyKSAvIE1hdGguc3FydCgoeDFbMF0gLSB5MVswXSkgKiogMiArICh4MVsxXSAtIHkxWzFdKSAqKiAyKVxuXG4gICAgY29uc3QgbmV3UmFkaXVzID0gKGV4cGFuc2lvbiA+IDIpXG4gICAgICAgID8gc3RhdGUuaW1hZ2VSYWRpdXNcbiAgICAgICAgOiBzdGF0ZS5pbWFnZVJhZGl1cyAvIGV4cGFuc2lvblxuICAgIHN0YXRlLmltYWdlUmFkaXVzID0gKG5ld1JhZGl1cykgPiBzdGF0ZS5pbWFnZVJhZGl1c09yaWdpbmFsXG4gICAgICAgID8gc3RhdGUuaW1hZ2VSYWRpdXNPcmlnaW5hbFxuICAgICAgICA6IChuZXdSYWRpdXMgPCAxMDApXG4gICAgICAgICAgICA/IDEwMFxuICAgICAgICAgICAgOiBuZXdSYWRpdXNcbiAgICByZXR1cm4gc3RhdGVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZU1hZ25pZnlCeVdoZWVsKHN0YXRlLCBlKSB7XG4gICAgY29uc3Qgc2Nyb2xsZWQgPSBjYW52YXNDb29yZGluYXRlKGUpWzFdXG5cbiAgICBjb25zdCBuZXdSYWRpdXMgPSBzdGF0ZS5pbWFnZVJhZGl1cyArIHNjcm9sbGVkXG4gICAgc3RhdGUuaW1hZ2VSYWRpdXMgPSAobmV3UmFkaXVzKSA+IHN0YXRlLmltYWdlUmFkaXVzT3JpZ2luYWxcbiAgICAgICAgPyBzdGF0ZS5pbWFnZVJhZGl1c09yaWdpbmFsXG4gICAgICAgIDogKG5ld1JhZGl1cyA8IDEwMClcbiAgICAgICAgICAgID8gMTAwXG4gICAgICAgICAgICA6IG5ld1JhZGl1c1xuICAgIHJldHVybiBzdGF0ZVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/updateMagnify.js\n");

/***/ }),

/***/ "./src/js/updateStateByMeta.js":
/*!*************************************!*\
  !*** ./src/js/updateStateByMeta.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return updateStateByMeta; });\n/* harmony import */ var _sanitizeID_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sanitizeID.js */ \"./src/js/sanitizeID.js\");\n/* harmony import */ var _rotation_degree_handlers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rotation_degree_handlers.js */ \"./src/js/rotation_degree_handlers.js\");\n\n\n\nfunction getRotationCenter(meta) {\n    return (meta.hasOwnProperty(\"rotate_center\"))\n        ? {\n            \"to_right\": meta.rotate_center[0],\n            \"to_bottom\": meta.rotate_center[1]\n        }\n        : {\n            \"to_right\": meta.image_width * 0.5,\n            \"to_bottom\": meta.image_height * 0.5\n        }\n}\n\nfunction getImageRadius(meta) {\n    const shift = getRotationCenter(meta);\n    const image_center = {\n        \"x\": meta.image_width * 0.5,\n        \"y\": meta.image_height * 0.5\n    }\n    return Math.min(\n        image_center.x - Math.abs(image_center.x - shift.to_right),\n        image_center.y - Math.abs(image_center.y - shift.to_bottom)\n    )\n}\n\nfunction mapMetadata(meta) {\n    const rotate_degree_step = parseInt(meta.rotate_by_degree)\n\n    return {\n        isClockwise: meta.rotate_clockwise,\n        location: meta.location,\n        rockType: meta.rock_type,\n        owner: meta.owner,\n        description: meta.hasOwnProperty(\"discription\")\n            ? meta.discription\n            : meta.hasOwnProperty(\"description\")\n                ? meta.description\n                : {},\n        rotate_center: getRotationCenter(meta),\n        imageWidth: meta.image_width,\n        imageHeight: meta.image_height,\n        imageRadius: getImageRadius(meta),\n        imageRadiusOriginal: getImageRadius(meta),\n        scaleWidth: meta.hasOwnProperty(\"scale-pixel\")\n            ? parseInt(meta[\"scale-pixel\"])\n            : false,\n        scaleText: meta.hasOwnProperty(\"scale-unit\")\n            ? meta[\"scale-unit\"]\n            : false,\n        rotate_degree_step: rotate_degree_step\n    }\n}\n\nfunction updateStateByMeta(state) {\n    return (containorID, meta) => new Promise((res, rej) => {\n\n        state.containorID = Object(_sanitizeID_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(containorID);\n\n        const rotate_degree_step = parseInt(meta.rotate_by_degree)\n        const cycle_degree = meta.hasOwnProperty(\"cycle_rotate_degree\")\n            ? parseInt(meta.cycle_rotate_degree)\n            : 90;\n        const image_number = cycle_degree / rotate_degree_step + 1\n        const mirror_at = (image_number - 1)\n        const total_step = (image_number - 1) * 2\n\n        state.image_number = image_number\n        state.getImageNumber = cycle_degree > 0\n            ? degree => Object(_rotation_degree_handlers_js__WEBPACK_IMPORTED_MODULE_1__[\"cycleBy\"])(image_number - 1)(\n                Object(_rotation_degree_handlers_js__WEBPACK_IMPORTED_MODULE_1__[\"stepBy\"])(rotate_degree_step)(state.isClockwise ? 360 - degree : degree)\n            )\n            : degree => mirrorBy(mirror_at)(\n                Object(_rotation_degree_handlers_js__WEBPACK_IMPORTED_MODULE_1__[\"cycleBy\"])(total_step)(\n                    Object(_rotation_degree_handlers_js__WEBPACK_IMPORTED_MODULE_1__[\"stepBy\"])(rotate_degree_step)(degree)\n                )\n            )\n\n        state.getAlpha = degree => {\n            const nth = Object(_rotation_degree_handlers_js__WEBPACK_IMPORTED_MODULE_1__[\"cycleBy\"])(total_step * 2)(\n                Object(_rotation_degree_handlers_js__WEBPACK_IMPORTED_MODULE_1__[\"stepBy\"])(rotate_degree_step)(degree)\n            )\n            return 1 - (degree - rotate_degree_step * nth) / rotate_degree_step\n        }\n\n        state.open_images = []\n        state.cross_images = []\n\n        state.rotate = 0;\n\n        state = Object.assign(state, mapMetadata(meta))\n\n        res(state)\n    })\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvdXBkYXRlU3RhdGVCeU1ldGEuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvdXBkYXRlU3RhdGVCeU1ldGEuanM/M2EyOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc2FuaXRpemVJRCBmcm9tIFwiLi9zYW5pdGl6ZUlELmpzXCJcbmltcG9ydCB7IGN5Y2xlQnksIHN0ZXBCeSB9IGZyb20gXCIuL3JvdGF0aW9uX2RlZ3JlZV9oYW5kbGVycy5qc1wiXG5cbmZ1bmN0aW9uIGdldFJvdGF0aW9uQ2VudGVyKG1ldGEpIHtcbiAgICByZXR1cm4gKG1ldGEuaGFzT3duUHJvcGVydHkoXCJyb3RhdGVfY2VudGVyXCIpKVxuICAgICAgICA/IHtcbiAgICAgICAgICAgIFwidG9fcmlnaHRcIjogbWV0YS5yb3RhdGVfY2VudGVyWzBdLFxuICAgICAgICAgICAgXCJ0b19ib3R0b21cIjogbWV0YS5yb3RhdGVfY2VudGVyWzFdXG4gICAgICAgIH1cbiAgICAgICAgOiB7XG4gICAgICAgICAgICBcInRvX3JpZ2h0XCI6IG1ldGEuaW1hZ2Vfd2lkdGggKiAwLjUsXG4gICAgICAgICAgICBcInRvX2JvdHRvbVwiOiBtZXRhLmltYWdlX2hlaWdodCAqIDAuNVxuICAgICAgICB9XG59XG5cbmZ1bmN0aW9uIGdldEltYWdlUmFkaXVzKG1ldGEpIHtcbiAgICBjb25zdCBzaGlmdCA9IGdldFJvdGF0aW9uQ2VudGVyKG1ldGEpO1xuICAgIGNvbnN0IGltYWdlX2NlbnRlciA9IHtcbiAgICAgICAgXCJ4XCI6IG1ldGEuaW1hZ2Vfd2lkdGggKiAwLjUsXG4gICAgICAgIFwieVwiOiBtZXRhLmltYWdlX2hlaWdodCAqIDAuNVxuICAgIH1cbiAgICByZXR1cm4gTWF0aC5taW4oXG4gICAgICAgIGltYWdlX2NlbnRlci54IC0gTWF0aC5hYnMoaW1hZ2VfY2VudGVyLnggLSBzaGlmdC50b19yaWdodCksXG4gICAgICAgIGltYWdlX2NlbnRlci55IC0gTWF0aC5hYnMoaW1hZ2VfY2VudGVyLnkgLSBzaGlmdC50b19ib3R0b20pXG4gICAgKVxufVxuXG5mdW5jdGlvbiBtYXBNZXRhZGF0YShtZXRhKSB7XG4gICAgY29uc3Qgcm90YXRlX2RlZ3JlZV9zdGVwID0gcGFyc2VJbnQobWV0YS5yb3RhdGVfYnlfZGVncmVlKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaXNDbG9ja3dpc2U6IG1ldGEucm90YXRlX2Nsb2Nrd2lzZSxcbiAgICAgICAgbG9jYXRpb246IG1ldGEubG9jYXRpb24sXG4gICAgICAgIHJvY2tUeXBlOiBtZXRhLnJvY2tfdHlwZSxcbiAgICAgICAgb3duZXI6IG1ldGEub3duZXIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBtZXRhLmhhc093blByb3BlcnR5KFwiZGlzY3JpcHRpb25cIilcbiAgICAgICAgICAgID8gbWV0YS5kaXNjcmlwdGlvblxuICAgICAgICAgICAgOiBtZXRhLmhhc093blByb3BlcnR5KFwiZGVzY3JpcHRpb25cIilcbiAgICAgICAgICAgICAgICA/IG1ldGEuZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICA6IHt9LFxuICAgICAgICByb3RhdGVfY2VudGVyOiBnZXRSb3RhdGlvbkNlbnRlcihtZXRhKSxcbiAgICAgICAgaW1hZ2VXaWR0aDogbWV0YS5pbWFnZV93aWR0aCxcbiAgICAgICAgaW1hZ2VIZWlnaHQ6IG1ldGEuaW1hZ2VfaGVpZ2h0LFxuICAgICAgICBpbWFnZVJhZGl1czogZ2V0SW1hZ2VSYWRpdXMobWV0YSksXG4gICAgICAgIGltYWdlUmFkaXVzT3JpZ2luYWw6IGdldEltYWdlUmFkaXVzKG1ldGEpLFxuICAgICAgICBzY2FsZVdpZHRoOiBtZXRhLmhhc093blByb3BlcnR5KFwic2NhbGUtcGl4ZWxcIilcbiAgICAgICAgICAgID8gcGFyc2VJbnQobWV0YVtcInNjYWxlLXBpeGVsXCJdKVxuICAgICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgc2NhbGVUZXh0OiBtZXRhLmhhc093blByb3BlcnR5KFwic2NhbGUtdW5pdFwiKVxuICAgICAgICAgICAgPyBtZXRhW1wic2NhbGUtdW5pdFwiXVxuICAgICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgcm90YXRlX2RlZ3JlZV9zdGVwOiByb3RhdGVfZGVncmVlX3N0ZXBcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVwZGF0ZVN0YXRlQnlNZXRhKHN0YXRlKSB7XG4gICAgcmV0dXJuIChjb250YWlub3JJRCwgbWV0YSkgPT4gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG5cbiAgICAgICAgc3RhdGUuY29udGFpbm9ySUQgPSBzYW5pdGl6ZUlEKGNvbnRhaW5vcklEKTtcblxuICAgICAgICBjb25zdCByb3RhdGVfZGVncmVlX3N0ZXAgPSBwYXJzZUludChtZXRhLnJvdGF0ZV9ieV9kZWdyZWUpXG4gICAgICAgIGNvbnN0IGN5Y2xlX2RlZ3JlZSA9IG1ldGEuaGFzT3duUHJvcGVydHkoXCJjeWNsZV9yb3RhdGVfZGVncmVlXCIpXG4gICAgICAgICAgICA/IHBhcnNlSW50KG1ldGEuY3ljbGVfcm90YXRlX2RlZ3JlZSlcbiAgICAgICAgICAgIDogOTA7XG4gICAgICAgIGNvbnN0IGltYWdlX251bWJlciA9IGN5Y2xlX2RlZ3JlZSAvIHJvdGF0ZV9kZWdyZWVfc3RlcCArIDFcbiAgICAgICAgY29uc3QgbWlycm9yX2F0ID0gKGltYWdlX251bWJlciAtIDEpXG4gICAgICAgIGNvbnN0IHRvdGFsX3N0ZXAgPSAoaW1hZ2VfbnVtYmVyIC0gMSkgKiAyXG5cbiAgICAgICAgc3RhdGUuaW1hZ2VfbnVtYmVyID0gaW1hZ2VfbnVtYmVyXG4gICAgICAgIHN0YXRlLmdldEltYWdlTnVtYmVyID0gY3ljbGVfZGVncmVlID4gMFxuICAgICAgICAgICAgPyBkZWdyZWUgPT4gY3ljbGVCeShpbWFnZV9udW1iZXIgLSAxKShcbiAgICAgICAgICAgICAgICBzdGVwQnkocm90YXRlX2RlZ3JlZV9zdGVwKShzdGF0ZS5pc0Nsb2Nrd2lzZSA/IDM2MCAtIGRlZ3JlZSA6IGRlZ3JlZSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogZGVncmVlID0+IG1pcnJvckJ5KG1pcnJvcl9hdCkoXG4gICAgICAgICAgICAgICAgY3ljbGVCeSh0b3RhbF9zdGVwKShcbiAgICAgICAgICAgICAgICAgICAgc3RlcEJ5KHJvdGF0ZV9kZWdyZWVfc3RlcCkoZGVncmVlKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcblxuICAgICAgICBzdGF0ZS5nZXRBbHBoYSA9IGRlZ3JlZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBudGggPSBjeWNsZUJ5KHRvdGFsX3N0ZXAgKiAyKShcbiAgICAgICAgICAgICAgICBzdGVwQnkocm90YXRlX2RlZ3JlZV9zdGVwKShkZWdyZWUpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICByZXR1cm4gMSAtIChkZWdyZWUgLSByb3RhdGVfZGVncmVlX3N0ZXAgKiBudGgpIC8gcm90YXRlX2RlZ3JlZV9zdGVwXG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZS5vcGVuX2ltYWdlcyA9IFtdXG4gICAgICAgIHN0YXRlLmNyb3NzX2ltYWdlcyA9IFtdXG5cbiAgICAgICAgc3RhdGUucm90YXRlID0gMDtcblxuICAgICAgICBzdGF0ZSA9IE9iamVjdC5hc3NpZ24oc3RhdGUsIG1hcE1ldGFkYXRhKG1ldGEpKVxuXG4gICAgICAgIHJlcyhzdGF0ZSlcbiAgICB9KVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/updateStateByMeta.js\n");

/***/ }),

/***/ "./src/js/updateViewerGeometry.js":
/*!****************************************!*\
  !*** ./src/js/updateViewerGeometry.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return updateViewerGeometry; });\n/* harmony import */ var _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./viewer_canvas.js */ \"./src/js/viewer_canvas.js\");\n/* harmony import */ var _getMaxViewerSize_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getMaxViewerSize.js */ \"./src/js/getMaxViewerSize.js\");\n\n\n\nfunction updateViewerGeometry(state) {\n    return new Promise((res, rej) => {\n        const padding = 20 // px\n        state.canvasWidth = Object(_getMaxViewerSize_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])() - padding\n        state.canvasHeight = Object(_getMaxViewerSize_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])() - padding\n\n        _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_0__[\"viewer\"].width = state.canvasWidth\n        _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_0__[\"viewer\"].height = state.canvasHeight\n        _viewer_canvas_js__WEBPACK_IMPORTED_MODULE_0__[\"viewer_ctx\"].translate(state.canvasWidth * 0.5, state.canvasHeight * 0.5)\n        res(state)\n    })\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvdXBkYXRlVmlld2VyR2VvbWV0cnkuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvdXBkYXRlVmlld2VyR2VvbWV0cnkuanM/MzZjYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB2aWV3ZXIsIHZpZXdlcl9jdHggfSBmcm9tIFwiLi92aWV3ZXJfY2FudmFzLmpzXCJcbmltcG9ydCBnZXRNYXhWaWV3ZXJTaXplIGZyb20gXCIuL2dldE1heFZpZXdlclNpemUuanNcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1cGRhdGVWaWV3ZXJHZW9tZXRyeShzdGF0ZSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICAgICAgY29uc3QgcGFkZGluZyA9IDIwIC8vIHB4XG4gICAgICAgIHN0YXRlLmNhbnZhc1dpZHRoID0gZ2V0TWF4Vmlld2VyU2l6ZSgpIC0gcGFkZGluZ1xuICAgICAgICBzdGF0ZS5jYW52YXNIZWlnaHQgPSBnZXRNYXhWaWV3ZXJTaXplKCkgLSBwYWRkaW5nXG5cbiAgICAgICAgdmlld2VyLndpZHRoID0gc3RhdGUuY2FudmFzV2lkdGhcbiAgICAgICAgdmlld2VyLmhlaWdodCA9IHN0YXRlLmNhbnZhc0hlaWdodFxuICAgICAgICB2aWV3ZXJfY3R4LnRyYW5zbGF0ZShzdGF0ZS5jYW52YXNXaWR0aCAqIDAuNSwgc3RhdGUuY2FudmFzSGVpZ2h0ICogMC41KVxuICAgICAgICByZXMoc3RhdGUpXG4gICAgfSlcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/updateViewerGeometry.js\n");

/***/ }),

/***/ "./src/js/viewer_canvas.js":
/*!*********************************!*\
  !*** ./src/js/viewer_canvas.js ***!
  \*********************************/
/*! exports provided: viewer, viewer_ctx */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"viewer\", function() { return viewer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"viewer_ctx\", function() { return viewer_ctx; });\nconst viewer = document.querySelector(\"#main-viewer\")\nconst viewer_ctx = viewer.getContext(\"2d\")\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvdmlld2VyX2NhbnZhcy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy92aWV3ZXJfY2FudmFzLmpzPzAxZjIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHZpZXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbWFpbi12aWV3ZXJcIilcbmV4cG9ydCBjb25zdCB2aWV3ZXJfY3R4ID0gdmlld2VyLmdldENvbnRleHQoXCIyZFwiKVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/viewer_canvas.js\n");

/***/ }),

/***/ "./src/js/viewer_handlers.js":
/*!***********************************!*\
  !*** ./src/js/viewer_handlers.js ***!
  \***********************************/
/*! exports provided: hideWelcomeBoard, showViewer, showNicolButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hideWelcomeBoard\", function() { return hideWelcomeBoard; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"showViewer\", function() { return showViewer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"showNicolButton\", function() { return showNicolButton; });\n\n\nconst hideWelcomeBoard = state => {\n    const board = document.querySelector(\"#welcome-card\")\n    board.classList.add(\"inactive\");\n    return state\n}\n\nconst showViewer = state => {\n    const card = document.querySelector(\"#viewer_wrapper\")\n    card.classList.remove(\"inactive\")\n    return state\n}\n\nconst showNicolButton = state => {\n    const button = document.querySelector(\"#low-navigation\")\n    button.classList.remove(\"inactive\");\n    return state\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvdmlld2VyX2hhbmRsZXJzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3ZpZXdlcl9oYW5kbGVycy5qcz80YTllIl0sInNvdXJjZXNDb250ZW50IjpbIlxuXG5leHBvcnQgY29uc3QgaGlkZVdlbGNvbWVCb2FyZCA9IHN0YXRlID0+IHtcbiAgICBjb25zdCBib2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjd2VsY29tZS1jYXJkXCIpXG4gICAgYm9hcmQuY2xhc3NMaXN0LmFkZChcImluYWN0aXZlXCIpO1xuICAgIHJldHVybiBzdGF0ZVxufVxuXG5leHBvcnQgY29uc3Qgc2hvd1ZpZXdlciA9IHN0YXRlID0+IHtcbiAgICBjb25zdCBjYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN2aWV3ZXJfd3JhcHBlclwiKVxuICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZShcImluYWN0aXZlXCIpXG4gICAgcmV0dXJuIHN0YXRlXG59XG5cbmV4cG9ydCBjb25zdCBzaG93Tmljb2xCdXR0b24gPSBzdGF0ZSA9PiB7XG4gICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsb3ctbmF2aWdhdGlvblwiKVxuICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiaW5hY3RpdmVcIik7XG4gICAgcmV0dXJuIHN0YXRlXG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/viewer_handlers.js\n");

/***/ }),

/***/ "./src/js/wheelEventHandler.js":
/*!*************************************!*\
  !*** ./src/js/wheelEventHandler.js ***!
  \*************************************/
/*! exports provided: wheelHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"wheelHandler\", function() { return wheelHandler; });\n/* harmony import */ var _wheelImage_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./wheelImage.js */ \"./src/js/wheelImage.js\");\n\n\nconst wheelHandler = state => e => {\n    e.preventDefault();\n    requestAnimationFrame(\n        Object(_wheelImage_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(state, e)\n    )\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvd2hlZWxFdmVudEhhbmRsZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvd2hlZWxFdmVudEhhbmRsZXIuanM/NjBmMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgd2hlZWxJbWFnZSBmcm9tIFwiLi93aGVlbEltYWdlLmpzXCJcblxuZXhwb3J0IGNvbnN0IHdoZWVsSGFuZGxlciA9IHN0YXRlID0+IGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoXG4gICAgICAgIHdoZWVsSW1hZ2Uoc3RhdGUsIGUpXG4gICAgKVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/wheelEventHandler.js\n");

/***/ }),

/***/ "./src/js/wheelImage.js":
/*!******************************!*\
  !*** ./src/js/wheelImage.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return wheelImage; });\n/* harmony import */ var _updateMagnify_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./updateMagnify.js */ \"./src/js/updateMagnify.js\");\n/* harmony import */ var _draw_state_updators_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./draw_state_updators.js */ \"./src/js/draw_state_updators.js\");\n\n\n\nfunction wheelImage(state, e) {\n    return () => {\n        Object(_updateMagnify_js__WEBPACK_IMPORTED_MODULE_0__[\"updateMagnifyByWheel\"])(state, e)\n        Object(_draw_state_updators_js__WEBPACK_IMPORTED_MODULE_1__[\"blobToCanvas\"])(state)\n        Object(_draw_state_updators_js__WEBPACK_IMPORTED_MODULE_1__[\"drawHairLine\"])(state)\n        Object(_draw_state_updators_js__WEBPACK_IMPORTED_MODULE_1__[\"drawScale\"])(state)\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvd2hlZWxJbWFnZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy93aGVlbEltYWdlLmpzPzI3OTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXBkYXRlTWFnbmlmeUJ5V2hlZWwgfSBmcm9tIFwiLi91cGRhdGVNYWduaWZ5LmpzXCJcbmltcG9ydCB7IGJsb2JUb0NhbnZhcywgZHJhd0hhaXJMaW5lLCBkcmF3U2NhbGUgfSBmcm9tIFwiLi9kcmF3X3N0YXRlX3VwZGF0b3JzLmpzXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gd2hlZWxJbWFnZShzdGF0ZSwgZSkge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHVwZGF0ZU1hZ25pZnlCeVdoZWVsKHN0YXRlLCBlKVxuICAgICAgICBibG9iVG9DYW52YXMoc3RhdGUpXG4gICAgICAgIGRyYXdIYWlyTGluZShzdGF0ZSlcbiAgICAgICAgZHJhd1NjYWxlKHN0YXRlKVxuICAgIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/wheelImage.js\n");

/***/ })

/******/ });